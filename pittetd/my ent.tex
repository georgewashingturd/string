\documentclass[aps,preprint,preprintnumbers,nofootinbib,showpacs,prd]{revtex4-1}
\usepackage{graphicx,color}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{amsmath,amssymb}
\usepackage{multirow}
\usepackage{amsthm}%        But you can't use \usewithpatch for several packages as in this line. The search 

\usepackage{cancel}

%%% for SLE
\usepackage{dcolumn}   % needed for some tables
\usepackage{bm}        % for math
\usepackage{amssymb}   % for math
\usepackage{multirow}
%%% for SLE -End

\usepackage{ulem}
\usepackage{cancel}

\usepackage{hyperref}

\usepackage[top=1in, bottom=1.25in, left=1.1in, right=1.1in]{geometry}

\usepackage{mathtools} % for \DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}

\usepackage{simplewick}

\newcommand{\msout}[1]{\text{\sout{\ensuremath{#1}}}}


%%%%%% My stuffs - Stef
\newcommand{\lsim}{\mathrel{\mathop{\kern 0pt \rlap
  {\raise.2ex\hbox{$<$}}}
  \lower.9ex\hbox{\kern-.190em $\sim$}}}
\newcommand{\gsim}{\mathrel{\mathop{\kern 0pt \rlap
  {\raise.2ex\hbox{$>$}}}
  \lower.9ex\hbox{\kern-.190em $\sim$}}}

%
% Key
%
\newcommand{\key}[1]{\medskip{\sffamily\bfseries\color{blue}#1}\par\medskip}
%\newcommand{\key}[1]{}
\newcommand{\q}[1] {\medskip{\sffamily\bfseries\color{red}#1}\par\medskip}
\newcommand{\comment}[2]{{\color{red}{{\bf #1:}  #2}}}


\newcommand{\ie}{{\it i.e.} }
\newcommand{\eg}{{\it e.g.} }

%
% Energy scales
%
\newcommand{\ev}{{\,{\rm eV}}}
\newcommand{\kev}{{\,{\rm keV}}}
\newcommand{\mev}{{\,{\rm MeV}}}
\newcommand{\gev}{{\,{\rm GeV}}}
\newcommand{\tev}{{\,{\rm TeV}}}
\newcommand{\fb}{{\,{\rm fb}}}
\newcommand{\ifb}{{\,{\rm fb}^{-1}}}

%
% SUSY notations
%
\newcommand{\neu}{\tilde{\chi}^0}
\newcommand{\neuo}{{\tilde{\chi}^0_1}}
\newcommand{\neut}{{\tilde{\chi}^0_2}}
\newcommand{\cha}{{\tilde{\chi}^\pm}}
\newcommand{\chao}{{\tilde{\chi}^\pm_1}}
\newcommand{\chaop}{{\tilde{\chi}^+_1}}
\newcommand{\chaom}{{\tilde{\chi}^-_1}}
\newcommand{\Wpm}{W^\pm}
\newcommand{\chat}{{\tilde{\chi}^\pm_2}}
\newcommand{\smu}{{\tilde{\mu}}}
\newcommand{\smur}{\tilde{\mu}_R}
\newcommand{\smul}{\tilde{\mu}_L}
\newcommand{\sel}{{\tilde{e}}}
\newcommand{\selr}{\tilde{e}_R}
\newcommand{\sell}{\tilde{e}_L}
\newcommand{\smurl}{\tilde{\mu}_{R,L}}

\newcommand{\casea}{\texttt{IA}}
\newcommand{\caseb}{\texttt{IB}}
\newcommand{\casec}{\texttt{II}}

\newcommand{\caseasix}{\texttt{IA-6}}

%
% Greek
%
\newcommand{\es}{{\epsilon}}
\newcommand{\sg}{{\sigma}}
\newcommand{\dt}{{\delta}}
\newcommand{\kp}{{\kappa}}
\newcommand{\lm}{{\lambda}}
\newcommand{\Lm}{{\Lambda}}
\newcommand{\gm}{{\gamma}}
\newcommand{\mn}{{\mu\nu}}
\newcommand{\Gm}{{\Gamma}}
\newcommand{\tho}{{\theta_1}}
\newcommand{\tht}{{\theta_2}}
\newcommand{\lmo}{{\lambda_1}}
\newcommand{\lmt}{{\lambda_2}}
%
% LaTeX equations
%
\newcommand{\beq}{\begin{equation}}
\newcommand{\eeq}{\end{equation}}
\newcommand{\bea}{\begin{eqnarray}}
\newcommand{\eea}{\end{eqnarray}}
\newcommand{\ba}{\begin{array}}
\newcommand{\ea}{\end{array}}
\newcommand{\bit}{\begin{itemize}}
\newcommand{\eit}{\end{itemize}}

\newcommand{\nbea}{\begin{eqnarray*}}
\newcommand{\neea}{\end{eqnarray*}}
\newcommand{\nbeq}{\begin{equation*}}
\newcommand{\neeq}{\end{equation*}}

\newcommand{\no}{{\nonumber}}
\newcommand{\td}[1]{{\widetilde{#1}}}
\newcommand{\sqt}{{\sqrt{2}}}
%
\newcommand{\me}{{\rlap/\!E}}
\newcommand{\met}{{\rlap/\!E_T}}
\newcommand{\rdmu}{{\partial^\mu}}
\newcommand{\gmm}{{\gamma^\mu}}
\newcommand{\gmb}{{\gamma^\beta}}
\newcommand{\gma}{{\gamma^\alpha}}
\newcommand{\gmn}{{\gamma^\nu}}
\newcommand{\gmf}{{\gamma^5}}
%
% Roman expressions
%
\newcommand{\br}{{\rm Br}}
\newcommand{\sign}{{\rm sign}}
\newcommand{\Lg}{{\mathcal{L}}}
\newcommand{\M}{{\mathcal{M}}}
\newcommand{\tr}{{\rm Tr}}

\newcommand{\msq}{{\overline{|\mathcal{M}|^2}}}

%
% kinematic variables
%
%\newcommand{\mc}{m^{\rm cusp}}
%\newcommand{\mmax}{m^{\rm max}}
%\newcommand{\mmin}{m^{\rm min}}
%\newcommand{\mll}{m_{\ell\ell}}
%\newcommand{\mllc}{m^{\rm cusp}_{\ell\ell}}
%\newcommand{\mllmax}{m^{\rm max}_{\ell\ell}}
%\newcommand{\mllmin}{m^{\rm min}_{\ell\ell}}
%\newcommand{\elmax} {E_\ell^{\rm max}}
%\newcommand{\elmin} {E_\ell^{\rm min}}
\newcommand{\mxx}{m_{\chi\chi}}
\newcommand{\mrec}{m_{\rm rec}}
\newcommand{\mrecmin}{m_{\rm rec}^{\rm min}}
\newcommand{\mrecc}{m_{\rm rec}^{\rm cusp}}
\newcommand{\mrecmax}{m_{\rm rec}^{\rm max}}
%\newcommand{\mpt}{\rlap/p_T}

%%%song
\newcommand{\cosmax}{|\cos\Theta|_{\rm max} }
\newcommand{\maa}{m_{aa}}
\newcommand{\maac}{m^{\rm cusp}_{aa}}
\newcommand{\maamax}{m^{\rm max}_{aa}}
\newcommand{\maamin}{m^{\rm min}_{aa}}
\newcommand{\eamax} {E_a^{\rm max}}
\newcommand{\eamin} {E_a^{\rm min}}
\newcommand{\eaamax} {E_{aa}^{\rm max}}
\newcommand{\eaacusp} {E_{aa}^{\rm cusp}}
\newcommand{\eaamin} {E_{aa}^{\rm min}}
\newcommand{\exxmax} {E_{\neuo \neuo}^{\rm max}}
\newcommand{\exxcusp} {E_{\neuo \neuo}^{\rm cusp}}
\newcommand{\exxmin} {E_{\neuo \neuo}^{\rm min}}
%\newcommand{\mxx}{m_{XX}}
%\newcommand{\mrec}{m_{\rm rec}}
\newcommand{\erec}{E_{\rm rec}}
%\newcommand{\mrecmin}{m_{\rm rec}^{\rm min}}
%\newcommand{\mrecc}{m_{\rm rec}^{\rm cusp}}
%\newcommand{\mrecmax}{m_{\rm rec}^{\rm max}}
%%%song

\newcommand{\mc}{m^{\rm cusp}}
\newcommand{\mmax}{m^{\rm max}}
\newcommand{\mmin}{m^{\rm min}}
\newcommand{\mll}{m_{\mu\mu}}
\newcommand{\mllc}{m^{\rm cusp}_{\mu\mu}}
\newcommand{\mllmax}{m^{\rm max}_{\mu\mu}}
\newcommand{\mllmin}{m^{\rm min}_{\mu\mu}}
\newcommand{\mllcusp}{m^{\rm cusp}_{\mu\mu}}
\newcommand{\elmax} {E_\mu^{\rm max}}
\newcommand{\elmin} {E_\mu^{\rm min}}
\newcommand{\elmaxw} {E_W^{\rm max}}
\newcommand{\elminw} {E_W^{\rm min}}
\newcommand{\R} {{\cal R}}

\newcommand{\ewmax} {E_W^{\rm max}}
\newcommand{\ewmin} {E_W^{\rm min}}
\newcommand{\mwrec}{m_{WW}}
\newcommand{\mwrecmin}{m_{WW}^{\rm min}}
\newcommand{\mwrecc}{m_{WW}^{\rm cusp}}
\newcommand{\mwrecmax}{m_{WW}^{\rm max}}

\newcommand{\mpt}{{\rlap/p}_T}

%%%%%% END My stuffs - Stef

\newcommand{\dunno}{$ {}^{\mbox {--}}\backslash(^{\rm o}{}\underline{\hspace{0.2cm}}{\rm o})/^{\mbox {--}}$}

\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}






\begin{document}

\title{Jumbled up thoughts}
\bigskip
\author{Stefanus Koesno$^1$\\
$^1$ Somewhere in California\\ San Jose, CA 95134 USA\\
}
%
\date{\today}
%
\begin{abstract}
Stray thoughts of a stray man. This is a collection of things that I thought was fun to do and also things that I always come back to after forgetting it :) There's no order or structure here just whatever my mind facies at the moment.

\end{abstract}
%
\maketitle

\renewcommand{\theequation}{A.\arabic{equation}}  % redefine the command that creates the equation no.
\setcounter{equation}{0}  % reset counter 

The pdf book I've been reading about elementary number theory (ent) is ent.pdf. It is written by William Stein, there are multiple versions and revisions of the book. One is called ``{\it Primes, Congruences, and Secrets}" dated Nov 16, 2011. Another version is called ``{\it A Computational Approach}" dated March 2007. As far as I can tell, they are pretty much the same but I'll use ``{\it Primes, Congruences, and Secrets}" in this article.

The proofs in these books are not the easiest to understand but they are really cool. So I'll list here explanations about the proofs that hopefully clarify them.

{\bf Lemma 1.1.9} This is a really cool way to prove something. He was using the concept of (sub)sets, something seemingly unrelated to prove properties of gcd.

The goal here is to show that 
%
\nbea
\gcd(a,b) = \gcd(b,a) = \gcd(\pm a,\pm b) = \gcd(a,b-a) = \gcd(a,b+a)
\neea
%
The first thing he showed is that $\gcd(a,b) \le \gcd(a,b-a)$ followed by $\gcd(a,b-a) \le \gcd(a,b)$ which means that $\gcd(a,b) = \gcd(a,b-a)$.

To show that $\gcd(a,b) \le \gcd(a,b-a)$ he uses the idea of a subset. He shows that every common divisor of $a$ and $b$ is also a common divisor of $b-a$, \ie $a = d c_1, b=d c_2 \to b-a = d(c_2-c_1)$. Now since every common divisor of $a$ and $b$ is also a divisor of $b-a$ this means that the common divisors of $a$ and $b$ is a subset of the divisor of $b-a$.

Since they are a subset $\gcd(a,b) \le \gcd(a,b-a)$ as the max element of the subset is either the same as the max element of the superset or lower, \eg consider a set $\{1,4,8,9\}$ if you form a subset of this, the maximum of this subset is 9 or lower, depending what elements you choose for the subset but it can't be higher than 9.

The next step in the proof is to show that $\gcd(a,b-a) \le \gcd(a,b)$. He did this by replacing $a \to -a$, $b \to b-a$ such that $\gcd(a,b) \to \gcd(-a, b-a)$. He then repeats the reasoning above, every common divisor of $-a$ and $b-a$ is also a divisor of $(b-a) - (-a) = b$ this means that $\gcd(-a,b-a) \le \gcd(-a,b)$ but $\gcd(-a,b-a) = \gcd(a, b-a),~\gcd(-a,b) = \gcd(a,b)$. This completes the proof.

{\bf Lemma 1.1.9, lowbrow version}. The way I'd prove this is straighforward, \ie proof by contradiction. Assume $d = \gcd(a,b) \neq d' = \gcd(a, b-a)$. There are then only two choices, either $d > d'$ or $d < d'$. Start with $d > d'$. Now since $d|a$ and $d|b \to d | b-a$ this means that $d$ is a common divisor of $a$ and $b-a$ which is a contradiction since $d > d'$, \ie no other common divisor should be larger than $d'$, the {\it greatest} common divisor of $a$ and $b-a$.

The other way around, $d < d'$, is also a contradiction. Because $d'|a$ and $d'|b-a \to d'|b$, so here we find a common divisor $d'$ of $a,b$ that is greater than the {\it greatest} common divisor $d$! Thus $d$ must be equal to $d'$.

{\bf Lemma 1.1.17} This is another cool one. He uses (strong) induction in a way I'd neven seen before. Usually you use induction by proofing the link between $n$ and $n+1$ but he doesn't. Instead he retrospects, let's see what I mean.

The goal here is to prove $\gcd(an,bn) = \gcd(a,b) \cdot |n|$ something very obvious.

He started by (implicitly) assuming that all numbers $a',b'$ smaller than $a,b$, \ie $a'+b' < a+b$, have this property. Note that he uses the sum of the numbers for induction instead the numbers themselves. As the base case he uses $a + b = 2$.

The proof now continues through several bridges. 
\begin{enumerate}
\item Show that $\gcd(an,bn) = \gcd(bn,rn)$, this is achieved through Euclid's algorithm as $an = bnq + rn$.
\item Next, show that $\gcd(bn, rn) = \gcd(b,r) \cdot |n|$, how? by showing that $b + r < a + b$, why? Because if $b + r < a + b$ then the case of $\gcd(bn, rn)$ is already covered by the induction. Recall that induction assumes all pairs $b + r$ leading up to $a + b$ already have this property, so if $b + r < a + b$ then $b,r$ is already in the induction assumption. This is why I said that he's using a strong induction.
\end{enumerate}
As we have seen, the induction proof was not a typical one, we're not proving the link between $n$ and $n+1$, he assumes that all elements less than $n+1$ are true and then show that our target is equal to one of those earlier elements. Very clever indeed.

{\bf Lemma 1.1.17,  lowbrow version}. Despite being a very clever proof I would like a simpler one :) A much simpler proof will utilize Euclid's algo
%
\nbea
a & = & bq_1 + r_1 \\
b & = & r_1q_2 + r_2 \\
& \vdots & \\
r_{m-2} & = & r_{m-1} q_m + (1?)
\neea
%
where if the last remainder is 1 the gcd between $a$ and $b$ is 1, otherwise it is $r_{m-1}$. If we multiply $a$ and $b$ by $n$, the multiplication will cascade down all the way
%
\nbea
na & = & nb \cdot q_1 + nr_1 \\
nb & = & nr_1 \cdot q_2 + nr_2 \\
& \vdots & \\
nr_{m-2} & = & nr_{m-1} \cdot q_m + (n \cdot 1?)
\neea
%
if the last remainder is $n$ then the gcd is $n$ since $ n | nr_{m-1}$ otherwise the remainder is $nr_{m-1}$. Thus $\gcd(na,nb) = |n| \cdot \gcd(a,b)$.

{\bf Theorem 1.1.19} Another clever proof, another indirect one. The goal is to show that if $p$ is prime and $p|ab$ then either $p|a$ or $p|b$.

He approaches this by showing that $p|\gcd(pb, ab)$ why? because $\gcd(pb, ab) = b\gcd(p, a) = b$. So his approach was to find ``how can I represent $b$? are there any other forms of $b$ that are divisible by $p$?" The answer of course is that $p|\gcd(pb, ab)$ and $\gcd(pb, ab)$ happens to be $b$ itself. Nice trick.

{\bf Theorem 1.1.19, lowbrow version}. I, on the other hand, will personally do it the other way. Starting with there was a prime $p$ and if $p \nmid a$ and $p \nmid b$ then $p \nmid ab$, \ie we turn it around, from ``'if A then B'' into ``if not B then not A''.

Say $p \nmid a$ and $p \nmid b$ and we then assume a contradiction $p | ab$. Now $p | pa$ and $p | ab$, from Lemma 1.1.17 $p | \gcd(pa,ab) \to p | a \gcd (p,b)$. Since $p$ is prime $\gcd(p,b)$ is either $p$ or 1. If $\gcd(p,b) = 1$ then $p | a \gcd (p,b) = p|a \cdot 1$ which is a contradiction, if $\gcd(p,b) = p$ then $p|b$ which is also a contradiction, which means that our assumption $p|ab$ is wrong, \ie $p \nmid ab$.

Since $p \nmid a$ and $p \nmid b \longrightarrow p \nmid ab$ this means that $p|ab \longrightarrow p|a$ or $p|b$ with the understanding that $p$ is prime.


{\bf Theorem 1.1.6}, the proof is actually on page 10. I just want to recap the strategy he used to prove this theorem. The key is Theorem 1.1.19 but to prove 1.1.19 you need to know about gcd and its properties, they are
\begin{enumerate}
\item Lemma 1.1.9, for any integers $a$ and $b$ we have
%
\nbea
\gcd(a,b) = \gcd(b,a) = \gcd(\pm a,\pm b) = \gcd(a,b-a) = \gcd(a,b+a)
\neea
%
\item Lemma 1.1.10, suppose $a,b,n \in \mathbb{Z}$. Then $\gcd(a,b) = \gcd(a,b-an)$.
\item Proposition 1.1.11, suppose that $a$ and $b$ are integers with $b \neq 0$. Then there exists unique integers $q$ and $r$ such that $0 \le r < |b|$ and $a = bq + r$
\item Algorithm 1.1.12 (Division Algorithm) Suppose $a$ and $b$ are integers with $b \neq 0$. This algorithm computes integers $q$ and $r$ such that $0 \le r < |b|$ and $a = bq + r$
\item Algorithm 1.1.13 (Greatest Common Division), this is Euclid's algorithm
\item Lemma 1.1.17, for any integers $a,b,n$ we have
%
\nbea
\gcd(an,bn) = \gcd(a,b) \cdot |n|
\neea
%
\item Lemma 1.1.18, suppose $a,b,n \in \mathbb{Z}$ are such that $n|a$ and $n|b$. Then $n|\gcd(a,b)$
\item Theorem 1.1.19, let $p$ be a prime and $a,b \in \mathbb{N}$. If $p|ab$ then $p|a$ or $p|b$
\end{enumerate}
So it's nowhere near straightforward, trying to prove this theorem straightforwardly is an oxymoron.

{\bf Algorithm 1.2.3} This is actually about proof of step 2, the stopping condition. The proof of this step doesn't give any intuition as to how this is true, it basically boils down to ``false assumption leads to contradictions".

There's actually a better explanation which is very intuitive. Once you come to a number that is roughly $\sim \sqrt{n}$ you know you can stop, why? The current number in question $\sqrt{n}$ is of course a prime since the non primes have been crossed off by the previous primes and their multiples. But some of the multiples of $\sqrt{n}$, \ie $p \sqrt{n}, ~ p < \sqrt{n}$ have been crossed off by multiples of the previous lesser primes. The next thing to cross is of course $\sqrt{n} \cdot \sqrt{n}$, but this is already bigger than $n$, so we can stop.

The above explanation might still be confusing. Let's see it with a concrete example, for simplicity let's use the same example as in the book $n = 40$ but let's jump straight to after we've crossed off $2,3,5$ and their multiples. The set $X$ is now
%
\nbea
X=[7,11,13,17,19,23,25,29,31,35,37]
\neea
%
We now need to cross off $7$ and its multiples, however, 
\bit
\item $7 \times 2$ was crossed off by $2 \times 7$
\item $7 \times 3$ was crossed off by $3 \times 7$
\item $7 \times 4$ was crossed off by $2 \times 14$
\item $7 \times 5$ was crossed off by $5 \times 7$.
\eit
The next thing to cross off is then $7 \times 7$ but this is larger than $n$ so we can immediately stop. For any other number $> 7$ the situation is even more dire since some of their multiples have been crossed off by the lesser primes and their square is definitely bigger than $n$.

{\bf Proposition 1.2.5} The goal here is to show that there are infinitely many primes in the form $4x - 1$. However the proof was a bit confusing. He started like Euclid, constructing a new number in the form
%
\nbea
N & = & 4 p_1 p_2 \cdots p_n - 1
\neea
%
Notice that he began by assuming that $p_1 p_2 \cdots p_n$ are primes of the form $4x-1$. This is required as we want to show that no known prime of the form $4x-1$ divides $N$, if $p_i$ is just any prime we would only show that the new prime that divides $N$ is not the same as any of $p_i$ but since $p_i$ is not of the form $4x-1$ there might be some other primes of the form $4x-1$ that wasn't included in constructing $N$. Thus the new prime factor of $N$ is not really new, it just wan't included in constructing $N$.

As to why $p_i \nmid N$ is because if $p_i|N \to N = p_i m$ then
%
\nbea
N = p_i m & = & p_i \cdot (4 \prod_{j\neq i} p_j) - 1 \\
p_i (m - 4 \prod_{j\neq i} p_j) & = & -1 \\
\to p_i & | & -1
\neea
%
which is a contradiction (this is the reasoning used in Euclid's famous ``there are infinite prime numbers" proof).

He then argues that if all prime factors of $N$ is of the form $4x + 1$ then $N$ will be of the form $4x+1$ as well which is true. The mysterious phrase is then (the phrase in the ``{\it A Computational Approach}" is even worse) ``since $N$ is odd, each prime divisor $p_i$ is odd so there is a $p|N$ that is of the form $4x-1$". Why not $2x+1$? which is the most generic form of an odd number. The thing is that $N$ is of the form $4x-1$ so we want the product of its factors to conform to $4x-1$. However, his requirement is actually not stringent enough (or he didn't explain it clearly enough), say that we have an odd number whose factors are
%
\nbea
(2x_1 + 1)(4x_2 - 1) & = & 8 x_1 x_2 - 2x_1 + 4 x_2 - 1
\neea
%
just because one of the factor is $4x-1$ it doesn't mean that we are guaranteed to have $N \sim 4x-1$. What we really need (as seen from the example above) is that all other factors are of the form $4x+1$ while at least one of them (or an odd number of them) is of the form $4x-1$.

This is because the product of of the of $x$'s with nothing but the $1$'s need to be in the form of $4x$, thus we need to have all the $x$'s multiplied by 4 and we need an odd number of $4x-1$ because the product of all the $1$'s needs to be $-1$.

How about the last sentence ``We can repeat this process indefinitely"? Remember that the primes that construct $N$, \ie $p_i$, were all of the form $4x-1$. Since we find another one of the form $4x-1$ (as one of the factor of $N$) we can construct a new number $N' = 4 p_1 p_2 \cdots p_n p_{\rm new} - 1$ which in turn produces another prime of the form $4x-1$ which we can use to construct another number and so on.

{\bf Problem 1.1} Warm up! :) Compute the greatest common divisor $\gcd(455,1235)$ by hand.

I did it by hand no calculator involved :)
%
\nbea
1235 & = & 455 \times 2 + 325 \\
455 & = & 325 \times 1 + 130 \\
325 & = & 130 \times 2 + 65 \\
130 & = & 65 \times 2
\neea
%
gcd is $65$!

{\bf Problem 1.3} Prove that there are infinitely many primes of the form $6x - 1$.

This closely follows the proof of Proposition 1.2.5. Let
%
\nbea
N & = & 6 p_1 p_2 \cdots p_n - 1
\neea
%
where $p_i$ is of the form $6x-1$. We know that $p_i \nmid N$. To get the form $6x-1$ the prime factors of $N$ has to be of the form $6x \pm 1$ and an odd number of them of them has to be $6x-1$. Thus we have a new prime of the form $6x-1$ which we can use to construct a new Number $N' = \prod 6 p_i - 1$ and the whole process repeats.

{\bf Problem 1.4} Use Theorem 1.2.10 to deduce that $\lim_{x \to \infty} \pi(x)/x = 0$.

Theorem 1.2.10 is
%
\nbea
\lim_{x \to \infty} \frac{\pi(x)}{x / \log(x)} & = & 1 \\
\lim_{x \to \infty} \frac{\pi(x)}{x / \log(x)} - 1 & = & 0
\neea
%
The thing I'm not sure about is whether we can do the usual algebraic manipulations with the $\lim$ involved, for example, is the following legit?
%
\nbea
\lim_{x \to \infty} \left ( \frac{\pi(x)}{x / \log(x)} - 1 \right ) \times \frac{1}{\log(x)} & = & 0 \times \frac{1}{\log(x)}
\neea
%
I'm not sure if we can do the above but 
%
\nbea
\lim_{x \to \infty} \frac{\pi(x)}{x / \log(x)} & = & 1 \\
\lim_{x \to \infty} \pi(x) & = & \lim_{x \to \infty} \frac{x}{\log(x)} \\
\lim_{x \to \infty} \frac{1}{x} \times \pi(x) & = & \lim_{x \to \infty} \frac{1}{\bcancel{x}} \times\frac{\bcancel{x}}{\log(x)} = 0
\neea
%
I think that was legal as the first line says that $\lim_{x \to \infty} \pi(x) = \lim_{x \to \infty} x / \log(x)$, \ie as $x$ goes to $\infty$ the two approach the same value. This means that if we divide both sides by the same value we will still get the same limit for both sides.

{\bf Problem 1.8 (a)} if $a|n$ and $b|n$ with $\gcd(a,b)=1$, then $ab|n$

The easiest way is of course to use the fundamental theorem of arithmetic but here I try not to do that if at all possible. First $a|n \to n = aa',~b|n \to n = bb'$, suppose $a < b$ (we know $a \neq b$), it doesn't matter which we choose to be smaller, the argument will be the same
%
\nbea
aa' & = & bb' \\
aa' & = & (aq + r) b' \\
a (a' - qb') & = & rb'
\neea
%
which means that $a | rb'$. We also know from Euclid's algorithm that $\gcd(b,a) = \gcd(a, r)$ but since $\gcd(a,b) = 1 \to \gcd(a,r)=1$. We know that $a|rb'$ and obviously $a|ab'$ then from Lemma 1.1.18 $\to a|\gcd(rb',ab')$, following the proof of Theorem 1.1.19
%
\nbea
a & | & \gcd(rb',ab') \\
\gcd(ar,ab') & = & |b'| \cdot \gcd(r,a) = |b'| \cdot 1 \\
\to a & | & b'
\neea
%
so $b' = a w \to n = bb' = (b a) w \to ab | n$ which completes the proof.

{\bf Problem 1.8 (b)} if $a|bc$ and $\gcd(a,b) = 1$, then $a|c$

Again, let's not use the fundamental theorem. Since we know that $a \neq b$, the first possibility is $a < b \to b = aq + r$
%
\nbea
(aq+r)c & = & an \\
rc & = & a(n-q) \\
\to a & | & rc
\neea
%
Following the footsteps of Problem 1.8 (a) above, $\gcd(b,a) = 1 = \gcd(a,r)$. Next, $a|rc$ and $a|ac$, so according to Lemma 1.1.18 $\to a|\gcd(rc,ac) = c \cdot \gcd(r,a) = c \cdot 1 = c \to a | c$.

The only other possibility is $b < a \to b = a - \Delta$
%
\nbea
(a - \Delta)c & = & an \\
-\Delta c & = & a(n-c) \\
\to a & | & \Delta c
\neea
%
To proceed we need to show that
%
\nbea
\Delta & = & - b + a\\
\to \gcd(a,\Delta) & = & \gcd(a, - b + a) = \gcd(a,-b) = \gcd(a,b)\\
& = & 1
\neea
%
where we have used Lemma 1.1.9 in the second line, thus $\gcd(a,\Delta) = 1$, since $a|\Delta c$ and $a|ac$ using Lemma 1.1.18 $\to a|\gcd(\Delta c,ac) = c \cdot \gcd(\Delta,a) = c \cdot 1 = c \to a|c$.

{\bf Problem 1.9 (a)} if $a|b$ and $b|c$ then $a|c$.
%
\nbea
a|b & \to & b = a m \\
b|c & \to & c = b n = a mn \\
c = a(mn) & \to & a|c
\neea
%

{\bf Problem 1.9 (b)} if $a|b$ and $c|d$ then $ac|bd$.
%
\nbea
a|b & \to & b = a m \\
c|d & \to & d = c n \\
ac = (ac)(mn) & \to & ac|bd
\neea
%

{\bf Problem 1.9 (c)} if $m \neq 0$, then $a|b$ if and only if $ma|mb$.
%
\nbea
a|b & \to & b = a w \\
mb = ma w & \to & ma |mb
\neea
%
The other way
%
\nbea
ma|mb & \to & mb = ma w \to b = aw  \\
b = a w & \to & a | b
\neea
%

{\bf Problem 1.9 (c)} if $d | a$ and $a \neq 0$, then $|d| \le |a|$.
%
\nbea
d|a & \to & a = d w \to |a| = |d w| = |d| |w| \\
|a| = |d| |w| & \to & |d| \le |a|
\neea
%

{\bf Problem 1.11 (b)} Fun facts! The two numbers are actually the first 27 digits of $\pi$ and $e$ and their gcd is 13. Their factors are
%
\nbea
314159265358979323846264338 & = & 2 \times 3 \times 7 \times {\bf 13} \times 17 \times 23 \times 53 \times 27765442739383319011 \\
271828182845904523536028747 & = & {\bf 13} \times 31 \times 14419 \times 48287851 \times 968760484921
\neea
%

{\bf Problem 1.12 (a)} Suppose $a,~b$ and $n$ are positive integers. Prove that if $a^n | b^n$ then $a|b$.

Let's try if we can do it without the fundamental theorem, since it'll be too easy otherwise \dunno

The problem is an ``if A then B" type but it also means ``if not B then not A". We'll go by induction but before that, from $a^n | b^n$ we know that $a < b$ (which can be easily proven by induction). We also know that $a|b^n$ either through Lemma 1.1.10, because $a^n|b^n \to b^n = a^n m$ and
%
\nbea
\gcd(a,b^n) & = & \gcd(a, a^n m)\\
& = & \gcd(a, a^n m - ad), ~~~ d = a^{n-1}m - 1 \\
\gcd(a,b^n) & = & \gcd(a, a) = a \\
\to a & | & b^n
\neea
%
or through $b^n = a^n m = a (a^{n-1}m) = a w \to a|b^n$ or through Problem 1.9 (a), $a|a^n$ and $a^n|b^n$ then $a|b^n$.

We now want to show that if $a \nmid b$ then $a \nmid b^n$ by induction. We start by proving the base case $a \nmid b^2$. Before we start we want to divide both $a$ and $b$ by $m \equiv \gcd(a,b)$ and denote them $a' = a/m$ and $b'=b/m$ where $\gcd(a',b') = 1$.

From Problem 1.9 (c) we have $a \nmid b \to a' \nmid b'$. Now what about $a'|b'^2$? Say $a' | b'^2$ then
%
\nbea
a'|b'^2 & = & a' | b' b', ~~~\gcd(a',b') = 1 \\
\to a' & | & b'
\neea
%
where we have used Problem 1.8 (b). But this is a contradiction since $a' \nmid b'$, thus $a' \nmid b'^2$. Now the induction step, suppose $a' \nmid b'^n$ we want to show $a' \nmid b'^{n+1}$, assume otherwise
%
\nbea
a'|b'^{n+1} & = & a' | b' b'^n, ~~~\gcd(a',b') = 1 \\
\to a' & | & b'^n
\neea
%
where we have used Problem 1.8 (b). This is a contradiction as $a' \nmid b'^n$ thus we have proved that if $a' \nmid b'$ then $a' \nmid b'^n$ where $\gcd(a',b')=1$. In other words if $a' | b'^n$ then $a' | b'$.

Our problem states that $a^n | b^n = \cancel{m^n} a'^n | \cancel{m^n} b'^n$ where $m = \gcd(a,b)$ (we have used Problem 1.9 (c)). But $a'^n | b'^n$ means that $a' | b'^n$ (as shown above) and by the above result $a' | b'^n \to a'|b' = ma'|mb' = a|b$ using Problem 1.9 (c). This completes the proof.

I initially solved it this way
%
\nbea
b^n & = & a^n  m \\
m & = & \left(\frac{b}{a} \right)^n
\neea
%
Since $m \in \mathbb{Z} \to b/a \in \mathbb{Z} \to b = an,~n \in \mathbb{Z} \to a|b$. But the dodgy step is the requirement that $b/a \in \mathbb{Z}$, this smells like we are implicitly assuming the fundamental theorem as we are trying to simplify the ratio into the canonical form.

I tried many other more straightforward ways but they didn't come to anything, one of the ways was to assume $a \nmid b \to b = aq + r$ with not much luck.

{\bf Problem 1.12 (b)} Suppose $p$ is a prime and $a$ and $k$ are positive integers. Prove that if $p|a^k$, then $p^k|a^k$.

Again, let's try not to use the fundamental theorem. Start with $p|a^k \to p | a a^{k-1}$, we also have $p | p a^{k-1}$. From Lemma 1.1.18 $\to p|\gcd(a a^{k-1}, p a^{k-1}) = p|a^{k-1}\gcd(a,p)$. From Theorem 1.1.19 it is either $p|a^{k-1}$ or $p|\gcd(p,a)$.

Now $\gcd(p,a)$ is either $1$ or $p$ since $p$ is prime. If $\gcd(p,a) = p$ then we are done since $p|a$ and $a|a^k$ means $p|a^k$ (see Problem 1.9 (a)). If $\gcd(p,a) = 1$ then $p|a^{k-1}$.

We now repeat the process, $p|\gcd(a a^{k-2}, p a^{k-2}) \to p|a^{k-2}$ since $\gcd(p,a) = 1$. Continuing in this path to $p|a$ we get a contradiction because we have assumed that $\gcd(p,a) = 1$, thus  $\gcd(p,a) = p$ and according to Problem 1.9 (a), $p|a$ and $a|a^k$ means $p|a^k$.

{\bf Problem 1.13 (a)} Prove that if a positive integer $n$ is a perfect square, then $n$ cannot be written in the form $4k + 3$.

Since $4k+3$ is odd $n$ has to be odd. In that case $n = (2x+1)^2$
%
\nbea
(2x+1)^2 & = & 4x^2 + 4x + 1 \\
& = & 4(x^2 + x) + 1 \\
& = & 2 \{2x(x + 1)\} + 1
\neea
%
while
%
\nbea
4k + 3 & = & 4k + 2 + 1 \\
& = & 2(2k+1) + 1
\neea
%
This means that $2 x (x + 1) = 2k + 1$ which is impossible since the LHS is even while the RHS is odd.

{\bf Problem 1.13 (b)} Prove that no integer in the sequence
%
\nbea
11, 111, 1111, 11111, 111111, \dots
\neea
%
is a perfect square. (Hint: $111 \cdots 111 = 111 \cdots 108 + 3 = 4k+3$)

We just need to follow the hint :)
%
\nbea
\underbrace{111 \cdots 111}_\text{$N$ number of 1's} & = & \sum_{i=0}^{N-1} 10^i \\
& = & 11 + \sum_{i=2}^{N-1} 10^i \\
& = & 11 + \sum_{i=1}^{N-2} 100^i \\
& = & 4 \cdot 2 + 3 + \sum_{i=1}^{N-2} (4 \cdot 25)^i \\
& = & 4 \left(2 + \sum_{i=1}^{N-2} 4^{i-1} 25^i \right ) + 3 \\
& = & 4k + 3
\neea
%
in the above derivation $N > 2$ for $N=2 \to 11 = 4 \cdot 2 + 3$. From Problem 1.13 (a) we know that no perfect square is of the form $4k + 3$ and this completes the proof.

{\bf Problem 1.14} Prove that a positive integer $n$ is prime if and only if $n$ is not divisible by any prime $p$ with $1 < p \le \sqrt{n}$.

The first part is easy, if $n$ is prime then its only factors are $1$ and $n$ thus it is not divisible by $p$ with $1 < p \le \sqrt{n}$.

The other way ``if $n$ is not divisible by any prime $p$ with $1 < p \le \sqrt{n}$ then $n$ is prime" is a bit harder.

The proof proceeds like the field sieve algorithm. Say we list all $N$ primes $p_i \le \sqrt{n}$ that do not divide $n$ sorted by $p_1 < p_2 < \dots < p_N$. We know from the fundamental theorem that $n$ contains prime factors that are smaller than $n$.

Since $p_1, p_2, \dots, p_N$ do not divide $n$ the next prime factor candidate will be $p_{N+1} > p_n > \sqrt{n}$. But for $n = p_{N+1} m$, $m$ has to be $< \sqrt{n}$ and contain one of the $p_1, p_2, \dots, p_N$, otherwise the only other option is $p_{N+1}p_{N+1} > \sqrt{n}\sqrt{n} > n$ but none of $p_1, p_2, \dots, p_N$ divides $n$ thus no prime divides $n$ and $n$ itself must be prime.

{\bf Chapter 1 Conclusion}
%
\bit
\item On the way through proving the fundamental theorem we see how important $\gcd(na,nb) = n \cdot \gcd(a,b)$ is.
\item We don't need to use the fundamental theorem as I have shown in solving the various problems above. This reiterates the idea that math is an interconnected web of theorems as mentioned by Feynman, if we don't have a theorem we can use other theorems as bridges to the one we need.
\item Keen observations are a must, we need all we can get on those numbers.
\eit
%

++++++++++++++++++++++++++++++++++\\

{\it Example }2.1.5.
%
\nbea
\mathbb{Z}/3\mathbb{Z} & = & \{ \{\underbrace{\dots, -3,0,3, \dots}_\text{``0"}\}, \{\underbrace{\dots, -2,1,4, \dots}_\text{``1"}\}, \{\underbrace{\dots, -1,2,5, \dots}_\text{``2"}\} \}
\neea
%
Explanation: the set $\mathbb{Z}/3\mathbb{Z}$ only has {\it three} elements but each element is a set. Please do not confuse each element with an ideal, we know that the ideal
%
\nbea
3\mathbb{Z} & = & \{\dots, -12,-9,-6,-3,0,3,6,9,12, \dots\}
\neea
%
because if $a$ is an element of an ideal then $-a$ is also an element. Therefore $\{\dots, -2,1,2 \dots\}$ and $\{\dots, -1,2,5 \dots\}$ are {\bf not} ideals.

What happens to $\mathbb{Z}/3\mathbb{Z}$ is it is a quotient of the ring $\mathbb{Z}$ by some ``ideal" $n\mathbb{Z}$ (notice the quatation marks) because as we have seen that two of the sets are not ideals. What we have is shifted ideals
%
\nbea
\mathbb{Z}/3\mathbb{Z} & = & \{ 0 + 3\mathbb{Z}, 1 + 3\mathbb{Z}, 2 + 3\mathbb{Z}\} \\
0 + 3\mathbb{Z} & = & \{\dots, \underbrace{{\bf 0+}-3}_\text{-3},\underbrace{{\bf 0+}0}_\text{0}, \underbrace{{\bf 0+}3}_\text{3}, \dots\} \\
1 + 3\mathbb{Z} & = & \{\dots, \underbrace{{\bf 1+}-3}_\text{-2},\underbrace{{\bf 1+}0}_\text{1},\underbrace{{\bf 1+}3}_\text{4}, \dots\} \\
2 + 3\mathbb{Z} & = & \{\dots, \underbrace{{\bf 2+}-3}_\text{-1},\underbrace{{\bf 2+}0}_\text{2},\underbrace{{\bf 2+}3}_\text{5}, \dots\}
\neea
%
Or in a physicist friendly way (in talking about quotient of a group), we identify each element of $\mathbb{Z}$ using $n\mathbb{Z}$, thus $0 \to 0 + n\mathbb{Z}$, etc. How about $n$ itself? $n$ has been covered by $0 + n\mathbb{Z}$. So in this way $n\mathbb{Z}$ acts as a gauge transformation and each $k + n\mathbb{Z}$ is a gauge orbit.

{\bf Proposition 2.1.9} I proved this before in this document, ``{\it A number $n \in \mathbb{Z}$ is divisible by $3$ if and only if the sum of the digits of $n$ is divisible by $3$.}"

His proof boils down to
%
\nbea
n & = & a + 10b + 100c + \dots \equiv a +b+ c + \cdots \pmod{3}
\neea
%
Now why does this proof work? It says that $n = (a+b+c)\pmod{3}$. The meaning of $\pmod{3}$ is that $a = b\pmod{3} \to 3 | a-b$ so in this case $3 | n - (a+b+c)$ but since $3|n$ therefore $3|(a+b+c).$

{\bf Definition 2.1.11} ``(Complete Set of Residues). $\dots$ pairwise distinct''. The name is apt since the set is the set of residues of $n$, \eg $1,2,3,\dots,n-1$. The ``pairwise distinct'' phrase, I think, means that every two elements of $R$ are not related by $n$, \ie every two elements $x_1$ and $x_2$ of $R$, $n \nmid (x_1 - x_2)$.

{\bf Lemma 2.1.12, lowvrow version}. The way I'll prove it is to show it through a contradiction. Assume that $aR$ is not a complete set of residues modulo $n$, which means that there are two elements of $aR$, say $ax_1 - ax_2$ such that
%
\nbea
n | a(x_1 - x_2)
\neea
%
since $\gcd(n,a) = 1$ from Problem 1.8 (b) we know that $n|(x_1 - x_2)$ but this is a contradiction since the elements of $R$ are pairwise distinct. Thus $aR$ is a complete set of residues modulo $n$.

{\bf Definition 2.1.16}. Be careful about the reasoning in this proof, especially the following statement

There are only finitely many residue classes modulo n, so we must eventually ﬁnd two integers $i, j$ with $i < j$ such that
%
\nbea
x^j \equiv x^i \pmod{n}.
\neea
%

What he was saying is not that the series $x^j$ will produce all remainders of $n$ but that at some point the remainder will repeat, \eg $x^i = nq + r,~x^j = nq' + r'$ where $r' = r$. It doesn't mean that that we will have all remainders $0,1, \dots, n-1$ of $n$.

{\bf Theorem 2.1.20}. The proof is similar to Lemma 2.1.12. If two elements of $xP$ are congruent, \ie $xa = xa' \pmod{n}$ then since $\gcd(x,n)=1$ according to Proposition 2.1.10 we can divide both sides $\bcancel{x}a = \bcancel{x}a' \pmod{n}$.

But since all elements of $P$ are distinct $a = a'$. Meaning $xP$ has the same number of elements as $P$ and they are all distinct.

Note that this doesn't mean that $xa = a \pmod{n}$!

{\bf Proposition 2.1.22}. In the proof of Wilson's theorem the enigmatic statement

If $a \in \{1, 2, . . . , p - 1\}$, then the equation
%
\nbea
ax \equiv 1 \pmod{p}
\neea
%
has a unique solution $a' \in \{1, 2, . . . , p - 1\}$. 

The above statement is from Exercise 2.12, \ie if $p$ is prime then $\mathbb{Z}/p\mathbb{Z}$ is a field, since $\mathbb{Z}/p\mathbb{Z}$ is a field every element has an inverse. The set $\{1, 2, . . . , p - 1\}$ is just the lift of $\mathbb{Z}/p\mathbb{Z}$ thus each element has an inverse as well. Another crucial ingredient is that all inverses are unique such that the number of inverses are the same as the number of residues, \ie we can cover all the numbers in $(p-1)! = 1\cdot 2\cdot 3 \dots p-1$ and therefore pair up a residue with its inverse.

``Multiplying both sides by $p-1$ proves that $(p-1)! \equiv 1 \pmod{n}$''. Note that
%
\nbea
1 \pmod{n} & \equiv & 1 + pm \\
\to (p-1) \times \{1 \pmod{n}\} & \equiv & (p-1)(1 + pm) \\
& \equiv & -1 + p(pm + 1 - m) \\
(p-1) \{1\pmod{n}\} & \equiv & -1 \pmod{n}
\neea
%

Another mysterious statement is ``so that $p \ge 4$ is a composite number'', what happens to 3? Well 3 was the example on page 27.

There are a couple keen observations in this proof
\bit
\item $l|(p-1)!$, this is because $l|p$ so $l < p$ and $(p-1)! = 1\cdot 2\cdot 3 \dots (p-1)$ since it lists all numbers between 0 and $p$, it must contain $l$.
\item ``a prime cannot divide a number $a$ and also divide $a+1$''
\eit

Wilson's theorem can also be stated in a different way stating that there are arbitrarily large gaps between successive primes, \ie for any positive integer $n$ there is a sequence of $n$ consecutive composite integers. The above statement can be proven rather easily (if you know the answer). What we want is a series of consecutive composite integers.

The most composite integer is $n!$ since it has all factors from $1$ to $n$. A keen observation shows that
%
\nbea
1 &|& (n! + 1) \\
2 &|& (n! + 2) \\
3 &|& (n! + 3) \\
&\vdots& \\
n &|& (n! + n)
\neea
%
However, we do not want $1|(n! + 1)$ since $1$ divides anything. We can therefore shifts everything by one
%
\nbea
2 &|& ((n+1)! + 2) \\
3 &|& ((n+1)! + 3) \\
&\vdots& \\
n+1 &|& ((n+1)! +(n+1))
\neea
%
where we now have $n$ consecutive composite integers $(n+1)! + 2 , \dots, (n+1)! +(n+1)$. $\mathcal{Q.E.D}$.

{\bf Theorem 2.2.2}. In the proof we need to subtract both sides of $a + tm \equiv b \pmod{n}$. We can always add and subtract both sides of a congruence since if $a \equiv b \pmod{n}$ then $n|(a-b) \to n|((a+\Delta) - (b + \Delta)) = n|(a-b)$.

Multiplication is a bit trickier if $a \equiv b \pmod{n}$ then $ca \equiv cb \pmod{n}$. We can of course divide both sides with $c$ even if $c \nmid n$. However, we can't just factor out both sides in general.

{\bf Eq. 2.2.2} $p$ has to be prime otherwise it won't work, \eg $p=4$, $\varphi(4) = 2$ but $4 - 4/4 = 3$.

{\bf Page 36}. ``Note: it is easiest to square 49 by working modulo 4 and 25 and using the Chinese remainder Theorem''.

Chinese Remainder Theorem in this case is
%
\nbea
x & \equiv & 49^2 \pmod{4} \\
x & \equiv & 49^2 \pmod{25} \\
x & \equiv & x' \pmod{4\cdot 25}
\neea
%
$49 \equiv 1 \pmod{4}$ and $49 \equiv 24 \pmod{25} = -1 \pmod{25}$, thus
%
\nbea
1 + t\cdot 4 & \equiv & 1 \pmod{25} \\
4t & = & (1-1) \pmod{25}  = 0 \pmod{25} \\
t & = & 25 \\
\to x & = & 101  = 1 \pmod{4 \cdot 25}
\neea
%
and so $49^2 \equiv 1 \pmod{100}$.

{\bf Proposition 2.2.7}. Note that this proposition only works if $\gcd(m,n) = 1$ otherwise you'll get weird results! Also for {\bf Equation 2.2.2}, $p$ is prime.

{\bf Theorem 2.4.1}. There's a typo in the proof. Instead of ``follows from Proposition 2.1.22'' it should've followed from Theorem 2.1.20 where $x^{\varphi(n)} \equiv 1 \pmod{n}$ since for a prime number $n$, $\varphi(n) = n-1$.

{\bf Section 2.5}. ``The structure of of $(\mathbb{Z}/p\mathbb{Z})^*$ $\dots \dots$ this implies that $(\mathbb{Z}/p\mathbb{Z})^*$ is a cyclic group''.

A cyclic group is a group that can be generated from just one element of the group. The term cyclic here refers to taking powers of a single element. For example for $(\mathbb{Z}/3\mathbb{Z})^* = \{1,2\}$, 1 can't obviously generate the whole group but $2$ can since $2^1 = 2$ and $2^2 = 4 \equiv 1 \pmod{3}$.

{\bf Proposition 2.5.3}. Note that this only applies to fields. See the last paragraph in the proof, especially this sentence ``since $\beta-\alpha \neq 0$ and $k$ is a field, we have $g(\beta)=0$.''. This is because every element in a field (other than zero) has an inverse such that
%
\nbea
(\beta - \alpha)g(\beta) & = & 0 \\
(\beta - \alpha)^{-1}(\beta - \alpha)g(\beta) & = & (\beta - \alpha) \cdot 0 \\
g(\beta) & = & 0
\neea
%

{\bf Theorem 2.5.8}. My first question when I saw the proof was that why can't one of the roots of $x^{q_i^{n_i}} - 1$ that is not a root of $x^{q_i^{n_i - 1}} - 1$ be a root of say $x^{q_i^{n_i - k}}$ for $1 < k < n_i - 1$? \eg $\alpha$ is a root of $x^{q_i^{n_i}} - 1 = 0$ but it's not a root of $x^{q_i^{n_i - 1}} - 1 = 0$ but $\alpha$ can still be a root of $x^{q_i^{n_i - k}} -1 = 0$, right?

Well, it can't be because $q_i^{n_i - k} | q_i^{n_i-1}$. So since $\alpha^{q_i^{n_i - k}} -1 = 0 \to \alpha^{q_i^{n_i - k}} = 1$
%
\nbea
x^{q_i^{n_i-1}} - 1 & = & 0 \\
\left (x^{q_i^{n_i-k}} \right )^{q_i^{k-1}} - 1 & = & 0 \\
\left (\alpha^{q_i^{n_i-k}} \right )^{q_i^{k-1}} - 1 & = & 0 \\
\left (1 \right )^{q_i^{k-1}} - 1 & = & 0 \\
1-1 & = & 0
\neea
%
\ie any roots of $x^{q_i^{n_i - k}} - 1$ are automatically roots of $x^{q_i^{n_i - 1}} - 1$ thus a root of $x^{q_i^{n_i}} - 1$ that is not a root of $x^{q_i^{n_i - 1}} - 1$ is really a new root!

{\bf Proposition 2.5.12}. An additive order modulo $n$ is the smallest positive $x$ such that $ax \equiv 0 \pmod{n}$. The order we've been talking about in this chapter is multiplicative order.

{\bf Problem 2.1}. Prove that for any positive integer $n$, the set $(\mathbb{Z}/n\mathbb{Z})^*$ under multiplication modulo $n$ is a group.

Remember that $(\mathbb{Z}/n\mathbb{Z})^*$ is the unit of $\mathbb{Z}/n\mathbb{Z}$, \ie any element $a \in (\mathbb{Z}/n\mathbb{Z})^*$ is $0 < a < n$ and $\gcd(a,n) = 1$. To show that $(\mathbb{Z}/n\mathbb{Z})^*$ in a group under multiplication $\pmod{n}$ we first need to show that it is closed.

Say we have two elements $a,b \in (\mathbb{Z}/n\mathbb{Z})^*$ if their product $(ab) < n$ then we are done because $\gcd(ab,n)=1$ as $\gcd(a,n)=\gcd(b,n)=1$. However, if $(ab) > n$ we can proceed as so, first $ab = nq + r$ with $0 < r <n$ ($r$ can't be zero since $n|ab$ otherwise).

We now utilize Bezout's lemma, \ie for $p,q \in \mathbb{Z}$,  $d|g \Longleftrightarrow ps + qt = g$  where $d = \gcd(p,q)$. We know that $\gcd(ab,n)=1$ therefore
%
\nbea
(ab)s + nt & = & 1 \\
(nq + r)s + nt & = & 1 \\
rs + n(t+qs) & = & 1
\neea
%
and by Bezout's lemma $\gcd(r,n)=1$ and since $0 < r < n$, $r \in (\mathbb{Z}/n\mathbb{Z})^*$. So we have shown that multiplication $\pmod{n}$ is closed.

We now need to show that every element of $(\mathbb{Z}/n\mathbb{Z})^*$ has an inverse. From Bezout's lemma, for every element $a \in (\mathbb{Z}/n\mathbb{Z})^*$, $as + nt = 1$ 
%
\nbea
nt & = & 1 - as \\
\to n &|& 1 - as \\
\to as & \equiv & 1 \pmod{n}
\neea
%
and therefore $s$ in the inverse of $a$ but since $as + nt = 1$ it also means that $\gcd(s,n)=1$, \ie $s \in (\mathbb{Z}/n\mathbb{Z})^*$. (If $s$ is less than zero or greater than $n$ we can always bring it back within $(0,n)$ by $s = nq' + r' ~\to ~s \equiv r' \pmod{n}$) And so we have an inverse for every element of $(\mathbb{Z}/n\mathbb{Z})^*$.

The other properties of a group can be easily proven:
\bit
\item $(\mathbb{Z}/n\mathbb{Z})^*$ has an identity element as $1 \in (\mathbb{Z}/n\mathbb{Z})^*$.
\item $a,b,c \in (\mathbb{Z}/n\mathbb{Z})^*$ then $(ab)c = a(bc)$. This is obvious since the group action is multiplication $\pmod{n}$.
\eit

{\bf Problem 2.2}. Compute the following gcd’s using Algorithm 1.1.13:
%
\nbea
\gcd(15, 35) ~~~ \gcd(247, 299) ~~~ \gcd(51, 897) ~~~ \gcd(136, 304)
\neea
%

This is nothing but an application of Euclid's algorithm
%
\nbea
\ba{r c l   c   r c l    c    r c l    c   r c l}
\underline{35} & = & 2 \cdot \underline{15} + 5 & ~~~~~ & \underline{299} & = & 1 \cdot \underline{247} + 52 & ~~~~~ & \underline{897} & = & 17 \cdot \underline{51} + 30 & ~~~~~ & \underline{304} & = & 2 \cdot \underline{136} + 32 \\
15 & = & 3 \cdot 5 & ~~~ & 247 & = & 4 \cdot 52 + 39 & ~~~ & 51 & = & 1 \cdot 30 + 21 & ~~~ & 136 & = & 4 \cdot 32 + 8 \\
& & & ~~~ & 52 & = & 1 \cdot 39 + 13 & ~~~ & 30 & = & 1 \cdot 21 + 9 & ~~~ & 32 & = & 4 \cdot 8 \\
& & & ~~~ & 39 & = & 3 \cdot 13 & ~~~ & 21 & = & 2 \cdot 9 + 3 & ~~~ &  \\
& & & ~~~ & & & & ~~~ & 9 & = & 3 \cdot 3
\ea
\neea
%
Therefore $\gcd(15, 35) = 5$, $\gcd(247, 299) = 13$, $\gcd(51, 897) = 3$, $\gcd(136, 304) = 8$.

{\bf Problem 2.3}. Use Algorithm 2.3.7 to find $x, y \in \mathbb{Z}$ such that $2261x + 1275y = 17$.

Algorithm 2.3.7 is
\begin{enumerate}
\item $\lbrack$Initialize$\rbrack$ Set $x = 1, y = 0, r = 0, s = 1$.
\item $\lbrack$Finished?$\rbrack$ If $b = 0$, set $g = a$ and terminate.
\item $\lbrack$Quotient and Remainder$\rbrack$ Use Algorithm 1.1.12 to write $a = qb + c$ with $0 ≤ c < b$.
\item $\lbrack$Shift$\rbrack$ Set $(a, b, r, s, x, y) = (b, c, x - qr, y - qs, r, s)$ and go to Step 2.
\end{enumerate}

Here $a = 2261, b=1275$, $x = 1, y = 0, r = 0, s = 1$, let's crank it through
%
\nbea
2261 & = & 1 \cdot 1275 + 986, ~~~ q = 1\\
(a, b, r, s, x, y) & = & (1275, 986, 1 - 1\cdot 0, 0-1\cdot 1, 0, 1) \\
(a, b, r, s, x, y) & = & (1275, 986, 1, -1, 0, 1) \\
1275 & = & 1 \cdot 986 + 289, ~~~ q = 1 \\
(a, b, r, s, x, y) & = & (986, 289, 0 - 1\cdot 1, 1-1(-1), 1, -1) \\
(a, b, r, s, x, y) & = & (986, 289, -1, 2, 1, -1)\\
986 & = & 3 \cdot 289 + 119, ~~~ q = 3 \\
(a, b, r, s, x, y) & = & (289, 119, 1 - 3(-1), -1-3 \cdot 2, -1, 2) \\
(a, b, r, s, x, y) & = & (289, 119, 4, -7, -1, 2) \\
289 & = & 2 \cdot 119 + 51, ~~~ q = 2 \\
(a, b, r, s, x, y) & = & (119, 51, -1 - 2\cdot 4, 2-2 (-7), 4, -7) \\
(a, b, r, s, x, y) & = & (119, 51, -9, 16, 4, -7) \\
119 & = & 2 \cdot 51 + 17, ~~~ q = 2 \\
(a, b, r, s, x, y) & = & (51, 17, 4 - 2(-9), -7-2\cdot 16, -9, 16) \\
(a, b, r, s, x, y) & = & (51, 17, 22, -39, -9, 16) \\
51 & = & 3 \cdot 17, ~~~ q = 3 \\
(a, b, r, s, x, y) & = & (17, 0, -9 - 3 \cdot 22, 16-3(-39), 22, -39) \\
(a, b, r, s, x, y) & = & (17, 0, -75, 133, 22, -39)
\neea
%
$b = 0$ so it's done. Therefore $x = 22,~y = -39$.

{\bf Problem 2.4}. Prove that if $a$ and $b$ are integers and $p$ is prime, then $(a+b)^p \equiv a^p + b^p \pmod{p}$. You may assume that the binomial coefficient
%
\nbea
\frac{p!}{r!(p-r)!}
\neea
%
is an integer.

The problem is actually equivalent to show that the binomial coefficient $p!/r!(p-r)!$ is divisible by $p$ if $p$ is prime. The requirement that $p$ is prime is a must otherwise it won't work, \eg $\binom{4}{2} = 6$ and it is not divisible by $4$.

To show that $\binom{p}{r}$ is an integer we need to inductively use Pascal identity, $\binom{p}{k} = \binom{p - 1}{k - 1} + \binom{p - 1}{k}$, and the fact that $\binom{p}{0} = \binom{p}{p} = 1$.

But once it is established that $\binom{p}{r}$ is an integer we can proceed swimmingly
%
\nbea
\binom{p}{r} = \frac{p!}{r!(p-r)!} = \frac{p (p-1) \dots (p-r-1)}{r!}
\neea
%
Since $\binom{p}{r}$ is an integer it means that $r!|p (p-1) \dots (p-r-1)$ but since $\gcd(r!, p) = 1$ ($p$ is prime) this means that $r!|(p-1) \dots (p-r-1)~\to ~ (p-1) \dots (p-r-1) = (r!) q$ and therefore
%
\nbea
\binom{p}{r} & = & \frac{p (p-1) \dots (p-r-1)}{r!} = p \cdot \frac{(p-1) \dots (p-r-1)}{r!} \\
& = & p q
\neea
%
which means that $\binom{p}{q} = 0 \pmod{p}$, provided $\binom{p}{q} > 1$. And this completes the proof.

{\bf Problem 2.5}. (a) Prove that if $x, y$ is a solution to $ax+by = d$, with $d = \gcd(a, b)$,
then for all $c \in \mathbb{Z}$,
%
\nbea
x_0 = x + c \cdot \frac{b}{d}, ~~~~~~~ y_0 = y - c \cdot \frac{a}{d} ~~~~~~~~~~(2.6.1)
\neea
%
is also a solution to $ax + by = d$.

(b) Find two distinct solutions to $2261x + 1275y = 17$.

(c) Prove that all solutions are of the form (2.6.1) for some $c$.

For (a) we just need to substitute $x_0, y_0$ into $ax+by = d$
%
\nbea
ax_0+by_0 & = & a \left( x + c \cdot \frac{b}{d} \right ) + b \left( y - c \cdot \frac{a}{d} \right ) \\
& = & ax + by + c \cdot \left ( \cancel{\frac{ab}{d}} - \cancel{ \frac{ba}{d}} \right ) \\
& = & ax + by \\
& = & d
\neea
%

For (b) One set of solutions is $x = 22, y = -39$ and another is $x = 997, y = -1768$.

For (c), say we have another solution $ax'+by' = d$, take their difference w.r.t $ax+by = d$, \ie 
%
\nbea
ax'+by' - ax+by & = & a(x' - x) + b(y' - y) \\
0 & = & a(x' - x) + b(y' - y) \\
\to a(x' - x) & = & b(y - y') \\
\bcancel{d}a'(x' - x) & = & \bcancel{d}b'(y - y')
\neea
%
which means that $a'|b'(y-y')$ but since $\gcd(a',b') = 1$, $a'|(y-y')$ or in other words $y - y' = a' q$ for some integer $q$. Rearranging $y' = y - a'q$.

Looking the other way, it also means that $b'|a'(x'-x)$ and since $\gcd(b',a') = 1$, $b'|(x'-x)$, which means that $x'-x = b'p$ for some integer $p$.

But we have a constraint for $p$ because 
%
\nbea
a'(x' - x) & = & b'(y - y'), ~~~ y - y' = a' q\\
a'(b'p) & = & b'(a'q)
\neea
%
that is $p=q$. Therefore, $x' = x + b'q$ and this completes the proof (once me rename $q$ as $c$ and $a', b'$ as $a/d, b/d$ respectively).

{\bf Problem 2.6}.  Let $f(x) = x^2 +ax+b \in \mathbb{Z}[x]$ be a quadratic polynomial with integer
coefficients, for example, $f(x) = x^2 + x + 6$. Formulate a conjecture about when the set
%
\nbea
\{f(n) : n \in \mathbb{Z} {\rm ~and~} f(n) {\rm ~is~ prime}\}
\neea
%
is infinite. Give numerical evidence that supports your conjecture.

Well, first $b$ must not be zero because otherwise $f(x) = x^2 + ax = x(x+a) \to x|f(x)$ for which $f(x)$ can only be prime if $x=1$.

Fine, so $b \neq 0$, but for some $a$ and $b$ we can factor $f(x) = (x + x_1)(x + x_2)$ where $x_1 + x_2 = a$ and $x_1x_2 = b$. But again, this is bad news, as $f(x)$ would not be prime. To make sure this doesn't happen $b$ must be prime or 1.

Let's take the easier route, $b=1$ such that $f(x) = x(x+a) + 1$ so as long as $x$ is even we have a chance for $f(x)$ to be prime. And from Wilson's theorem, Proposition 2.1.22, we require that $(x(x+a))! \equiv -1 \pmod{(x(x+a)+1)}$.

Actually there's a way to increase the probability that $x(x+a) + 1$ will keep producing prime numbers (intermittently and) indefinitely such that the set we are interested in is infinite.

We can set $a=0$ such that $f(x) = x^2 + 1$. Why might this work? it is actually related to my version of the generalized Euclid's proof that there are infinitely many prime numbers.

Let's see how this works. Say we scan $x$ from $x=1$ to infinity and beyond. Everytime $x = p_1 \dots p_n$ for some $n$
%
\nbea
f(x) & = & (p_1 \dots p_n)^2 + 1
\neea
%
then $f(x)$ either contains a new prime or is itself prime since if it contains $p_j, 1 \le j \le n$ then $p_j|1$ which is a contradiction. The only caveat is that $f(x)$ itself might not be prime which is why this is only a conjecture :) although in that case we can flip $b \to -1$
%
\nbea
f(x) & = & (p_1 \dots p_n)^2 - 1
\neea
%
since by the same argument the above should also produce new primes indefinitely.

For other choices of $b > 1$ and $b$ is prime we have $f(x) = x(x+a) + b$ and as long as $b \neq 2$ and $x$ is even we have a chance to have $f(x)$ as prime, if $b = 2$ then $x(x+a)$ must be odd. We can also flip the sign of $b$ if things don't work out :)

Another idea is maybe something like an extended Chinese remainder theorem
%
\nbea
x^2 + ax + b & \equiv & 0 \pmod{p_1} \\
x^2 + ax + b & \equiv & 0 \pmod{p_2} \\
& \vdots & \\
x^2 + ax + b & \equiv & 0 \pmod{p_n}
\neea
%
Although I don't know how this would work since $x$ is squared.

{\bf Problem 2.7}. Find four complete sets of residues modulo 7, where the $i$th set satisfies the $i$th condition: (1) nonnegative, (2) odd, (3) even, (4) prime.

(1) complete residues, nonnegative $\{0,1,2,3,4,5,6\}$

(2) complete residues, odd, we need to change each even number in (1) into an odd one which can be easily done by adding (or subtracting) 7 such that $\{7,1,9,3,11,5,13\}$

(3) complete residues, even, this time we need to add 7 to the odd ones in (1), $\{0,8,2,10,4,12,6\}$

(4) complete residues, prime, this one is a bit tricky, we need to add 7 until a number becomes prime, $\{7,29,2,3,11,5,13\}$ where $29 = 1 + 7\cdot 4$.

{\bf Problem 2.8}. Find rules in the spirit of Proposition 2.1.9 for divisibility of an integer by 5, 9, and 11, and prove each of these rules using arithmetic modulo a suitable $n$.

The case for 11 will covered below in Problem 2.9. The the other two cases, denote
%
\nbea
n & = & a + b10 + c100 + \dots
\neea
%

For the case of 5, this is easy since any number other than 5 will have 
%
\nbea
b10 \equiv c100 \equiv \dots & \equiv & 0 \pmod{5}
\neea
%
since $10^n,~n > 0 \to 10^n \equiv 0 \pmod{5}$, thus
%
\nbea
n & \equiv & a \pmod{5}
\neea
%
and since $5|n \to n \equiv 0 \pmod{5}$, $a$ has to be either 0 or 5.

For the case of 9
%
\nbea
a + b10 + c100 + \dots & = & a + b + c + \dots + b9 + c99 + \dots \\
& \equiv & a + b + c + \dots \pmod{9}
\neea
%
Therefore $a + b + c + \dots$ must be a multiple of 9.

{\bf Problem 2.9}. (*) (The following problem is from the 1998 Putnam Competition.) Define a sequence of decimal integers $a_n$ as follows: $a_1 = 0,~ a_2 = 1$, and $a_{n+2}$ is obtained by writing the digits of $a_{n+1}$ immediately followed by those of $a_n$. For example, $a_3 = 10,~ a_4 = 101$, and $a_5 = 10110$. Determine the $n$ such that $a_n$ is a multiple of 11, as follows:

(a) Find the smallest integer $n > 1$ such that $a_n$ is divisible by 11.

(b) Prove that $a_n$ is divisible by 11 if and only if $n \equiv 1 \pmod{6}$.

First, what is the requirement that a number is a multiple of 11? It's that the sum of the digit multiplied by alternating power of -1 is zero, \ie if the number we're interested in is
%
\nbea
n & = & a + b10 + c100 + d 1000 + \dots
\neea
%
then a - b + c - d + \dots = 0, why? because
%
\nbea
10 & = & 11 - 1 \\
100 & = & 110 - 10 \\
& = & 110 - (11 - 1) \\
& = & 110 - 11 + 1 \\
1000 & = & 1100 - 100 \\
& = & 1100 - (110 - 11 + 1) \\
& = & 1100 - 110 + 11 - 1
\neea
%
et cetera, thus
%
\nbea
n & = & a + b10 + c100 + d 1000 + \dots \\
& = & a + b(11-1) + c(110 - 11 + 1) + d(1100 - 110 + 11 - 1) + \dots \\
& = & a - b + c - d + \dots \pmod{11} \\
0 & = & a - b + c - d + \dots \pmod{11}
\neea
%
the last line is because $11|n \to n = 0 \pmod{11}$, and so the alternate sum of the digits of the number must be zero for the number to be a multiple of 11.

Let's list the first few $a$'s and their digits' alternate sum, see table.~\ref{Tab:5}
%
\begin{table}[]
\centering
\caption{The first few $a$'s and their properties}
\label{Tab:5}
\begin{tabular}{|c|l|c|c|}
\hline
Index & String & \begin{tabular}{@{}c@{}}\shortstack {\\ \\ Alternate \\ Sum}\end{tabular} & \begin{tabular}{@{}c@{}}\shortstack{ \\ \\ Divisibility \\ by 11}\end{tabular} \\ \hline$a_{1}$ & 0 & 0 & $11 \nmid a_1$ \\ \hline
$a_{2}$ & 1 & 1 & $11 \nmid a_2$ \\ \hline
$a_{3}$ & 10 & -1 & $11 \nmid a_3$ \\ \hline
$a_{4}$ & 101 & 2 & $11 \nmid a_4$ \\ \hline
$a_{5}$ & 10110 & 1 & $11 \nmid a_5$ \\ \hline
$a_{6}$ & 10110101 & 1 & $11 \nmid a_6$ \\ \hline
$a_{7}$ & 1011010110110 & 0 & $11 | a_7$ \\ \hline
$a_{8}$ & 101101011011010110101 & 1 & $11 \nmid a_8$ \\ \hline
\end{tabular}
\end{table}
%
so the smallest $n > 1$ such that $11|a_n$ is $n=7$. Here I have included $a_8$ as well as we will need this for part (b).

For part (b) we just need to use induction. An important fact about a string of zeros and ones, say we have a random string A
%
\nbea
{\rm A} = 10111010101 \dots 01010
\neea
%
and the alternate sum of the digits of A is {\it non zero}. We can shift A to the left by any arbitrary digits into
%
\nbea
{\rm A}' = 10111010101 \dots 01010 \dots 000000000
\neea
%
and the alternate sum of the digits of ${\rm A'}$ will still be non zero, what we'll get is at most a sign flip of the alternate sum. This is because every time we shift by one digit each 1 will flip its sign but if their sum wasn't zero, it will still not be zero. On the other hand, if the alternate sum of the digits of A is zero, it will remain zero no matter how many times we shift A.

Another important fact is that if we have two strings of ones and zeros, A and B, the alternate sum of the digits of concatenated string AB or BA is zero if and only if the alternate sum of A and the alternate sum of B are independently zero. This is a consequence of the above fact. And since this is true, it is also true if concatenate multiple A's and B's.

One last crucial ingredient, the length of $a_7$ and $a_8$, we need both lengths to be odd, since $a$'s are nothing but Fibonacci sequence, the lengths are 1,1,2,3,5,8,13,21, so $a_7$ is 13 characters long while $a_8$ is 21 characters long.

We can now start constructing our induction proof. We use as the base case $a_1, a_2, \dots, a_8$ from part (a). To simplify things we will denote ${\rm A} = a_7$ and ${\rm B} = a_8$ and we continue the sequence as shown in Table.~\ref{Tab:3}.
%
\begin{table}[]
\centering
\caption{The second iteration of the string pattern}
\label{Tab:3}
\begin{tabular}{|c|c|l|c|}
\hline
\begin{tabular}{@{}c@{}}\shortstack{\\ \\ Actual \\ Index}\end{tabular} & \begin{tabular}{@{}c@{}}\shortstack {\\ \\ Relative \\ Index}\end{tabular} & String & \begin{tabular}{@{}c@{}}\shortstack{ \\ \\ Alternate \\ Sum}\end{tabular} \\ \hline
$a_7$ & $\tilde a_1$ & A & 0 \\ \hline
$a_8$ & $\tilde a_2$ & B & 1\\ \hline
$a_9$ & $\tilde a_3$ & B A & -1 \\ \hline
$a_{10}$ & $\tilde a_4$ & B A B & 2 \\ \hline
$a_{11}$ & $\tilde a_5$ & B A B B A & 1 \\ \hline
$a_{12}$ & $\tilde a_6$ & B A B B A B A B & 1 \\ \hline
$a_{13}$ & $\tilde a_7$ & B A B B A B A B B A B B A & 0\\ \hline
$a_{14}$ & $\tilde a_8$ & B A B B A B A B B A B B A B A B B A B A B & 1 \\ \hline
\end{tabular}
\end{table}
%
This is where we need both $a_7$ and $a_8$ to be odd characters long. This way we can think of A and B as just single digits. Here's why. Say A is {\bf even} characters long with alternate sum of 1 and B odd characters long with alternate sum of 0, A B B A will have an alternate sum of 2 while 1001 (= $-+-+$) should have an alternate sum of 0.

This is because the A on the left ({\bf A}BBA) has been shifted odd + odd + even = even digits, thus its alternate sum stays the same, had A had odd characters, the higher {\bf A}BBA will be shifted by odd + odd + odd = odd digits and hence the alternate sum of ABBA will be zero.

It is now obvious that the pattern repeats. To continue let's denote C = $\tilde a_7$ = B A B B A B A B B A B B A with its alternate sum of 0 and D = $\tilde a_8$ = B A B B A B A B B A B B A B A B B A B A B with its alternate sum of 1. We now need to make sure that the string length of C and D are both odd. Well, they are guaranteed to be odd because $\tilde a_7$ has an odd number of substrings and each substring has an odd number of characters, odd $\times$ odd = odd, the same is true with $\tilde a_8$. So we can continue the sequence we will get the exact same sequence as shown in Table.~\ref{Tab:4}
%
\begin{table}[]
\centering
\caption{The next iteration of the string pattern}
\label{Tab:4}
\begin{tabular}{|c|c|l|c|}
\hline
\begin{tabular}{@{}c@{}}\shortstack{\\ \\ Actual \\ Index}\end{tabular} & \begin{tabular}{@{}c@{}}\shortstack {\\ \\ Relative \\ Index}\end{tabular} & String & \begin{tabular}{@{}c@{}}\shortstack{ \\ \\ Alternate \\ Sum}\end{tabular} \\ \hline
$a_{13}$ & $\tilde a_1$ & C & 0\\ \hline
$a_{14}$ & $\tilde a_2$ & D & 1\\ \hline
$a_{15}$ & $\tilde a_3$ & D C & -1 \\ \hline
$a_{16}$ & $\tilde a_4$ & D C D & 2 \\ \hline
$a_{17}$ & $\tilde a_5$ & D C D D C & 1 \\ \hline
$a_{18}$ & $\tilde a_6$ & D C D D C D C D & 1 \\ \hline
$a_{19}$ & $\tilde a_7$ & D C D D C D C D D C D D C & 0\\ \hline
$a_{20}$ & $\tilde a_8$ & D C D D C D C D D C D D C D C D D C D C D & 1 \\ \hline
\end{tabular}
\end{table}
%
We can continue this pattern for eternity :) The key observation is the two facts mentioned above that the alternate sum of a string only flips sign if we shift the string and the fact that the string length of $a_7$ and $a_8$ is odd. Therefore $a_n$ is divisible by 11 if and only if $n \equiv 1 \pmod{6}$.

{\bf Problem 2.10}. Find an integer $x$ such that $37x \equiv 1 \pmod{101}$.

We use Euclid's gcd algorithm to find the solution of Bezout's lemma $37x + 101y = 1$
%
\nbea
\ba{r c r c r   c   r c r c r}
\underline{101} & = & \underline{37} \cdot 2 & + & \underline{27} & ~~~~~~~~~~~~ & \underline{27} & = & 1 \cdot \underline{101} & - & 2 \cdot \underline{37} \\
\underline{37} & = & \underline{27} \cdot 1 & + & \underline{10} & & \underline{10} & = & -1 \cdot \underline{101} & + & 3 \cdot \underline{37} \\
\underline{27} & = & \underline{10} \cdot 2 & + & \underline{7} & & \underline{7} & = & 3 \cdot \underline{101} & - & 8 \cdot \underline{37} \\
\underline{10} & = & \underline{7} \cdot 1 & + & \underline{3} & & \underline{3} & = & -4 \cdot \underline{101}  & + & 11 \cdot \underline{37} \\
\underline{7} & = & \underline{3} \cdot 2 & + & \underline{1} & & \underline{1} & = & 11 \cdot \underline{101} & - & 30 \cdot \underline{37}
\ea
\neea
%
Therefore $x=-30 \equiv (101 - 30) \equiv 71 \pmod{101}$.

{\bf Problem 2.11}. What is the order of 2 modulo 17?

The order of a number is the smallest positive $m$ such that $2^m \equiv 1 \pmod{17}$. We can just try different numbers by brute force but an astute observer will observe that $2^4 = 16 \equiv -1 \pmod{17}$ and $1 = (-1)^2 = (2^4)^2 \equiv 2^8 \pmod {17}$. Thus the order of 2 modulo 17 is 8.

{\bf Problem 2.12} Let $p$ be prime. Prove that $\mathbb{Z}/p\mathbb{Z}$ is a field.

What is the reasoning behind this? Remember that a field is a ring where each non-zero element has an ``inverse" under multiplication, \ie for each element $a \neq 0$ we can find another element $b$ such that $ab=1$.

If $q$ is not prime we can show that $\mathbb{Z}/q\mathbb{Z}$ is {\bf not} a field. Here is why. For simplicity let's denote $\mathbb{Z}/q\mathbb{Z}$
%
\nbea
\mathbb{Z}/q\mathbb{Z} & = & \{0,1,2,3, \dots, q-1\}
\neea
%
where each number is actually $k + q\mathbb{Z}$. So, if $q$ is not prime, at least one of the numbers in $\mathbb{Z}/q\mathbb{Z}$ less than $q$ has to be a factor of $q$, let's denote this number $w,~w < q$. Since $w$ is a factor of $q \to q = w m$.

The identity element, $1$, in the ring $\mathbb{Z}/q\mathbb{Z}$ is actually $qn + 1 = w(mn) + 1$. Now we want to find another element $u$ such that $uw = 1 = qn + 1 = w(mn) + 1$, but this is a contradiction since $w (u - mn) = 1 \to w|1$. Thus $\mathbb{Z}/q\mathbb{Z}$ for non prime $q$ is {\bf not} a field.

Back to our original problem, we need to show the opposite, that for a prime $p$, $\mathbb{Z}/p\mathbb{Z}$ is always a field. As shown above, since none of the elements of $\mathbb{Z}/p\mathbb{Z}$ is a factor of $p$, this should be possible, the hard part is showing {\bf how} this can definitely be done (answer: induction).

The trick here is to utilize the circular structure of $\mathbb{Z}/p\mathbb{Z}$ in the induction step. The base case is obviously $a \in \mathbb{Z}/p\mathbb{Z},~a = 1$ with the inverse being itself $1\cdot 1 = 1$. Now suppose that we have found the inverse for each non-zero element of $\mathbb{Z}/p\mathbb{Z}$ up to $n$, how about $v=n+1$?

Notice that each non-zero element of $\mathbb{Z}/p\mathbb{Z}$ is less than $p$. This means that we can write 
%
\nbea
p & = & vq + r
\neea
%
What we want is to just exceed $p$, if we add one more $v \to v(q + 1)$ and substracting $p$ from it we get $v(q + 1) - p = v - r$. We know that $r < v$ therefore $v - r < v$ but the case of $< v$, \ie all elements up to $n$, already has an inverse and we can use that inverse to get the inverse of $v$. For example $v-r = d$ and the inverse of $d$ is $y$ such that $dy=ps + 1 = 1$. This means that since $p = vq + r$ and $v-r = d$
%
\nbea
v(q+1) & = & p + d \\
v(q+1)y & = & py + dy  = py + (ps + 1)\\
v(q+1)y & = & p(y+s) + 1 
\neea
%
\ie $v(q+1)y = 1$ and the inverse of $v$ is $(q+1)y$. The primality of $p$ was needed to guarantee that $r \neq 0,~v \nmid p$ otherwise the proof doesn't work. Also, $(q+1)y$ cannot be $0\pmod{p}$ because otherwise $v(pv') = p(y+s) + 1 \to p(vv' - (y+s)) = 1\to p|1$ which is a contradiction.

$(q+1)y$ is generally not the ``smallest" inverse of $v$ but we can of course bring it back to be $< p$ by substracting it by $pt \to v((q+1)y -pt) = p(y+s-tv) + 1 = 1$ for some $t$ such that $0 < (q+1)y -pt < p$.

Now, we are dealing with $k + n\mathbb{Z}$. If the element we are inspecting is $> p$ or $< 0$ we can still repeat the same argument but this time instead of just exceeding $p$ we want to exceed $\pm|np|$ with $\pm|n|$ the smallest number such that $|np| > |v|$.

Notice that in the above argument, we can identify $v(q+1) = d$ because of the circular structure of $\mathbb{Z}/p\mathbb{Z}$ which also allows us to utilize previously discovered inverses. Let's see this with a concrete example using $\mathbb{Z}/7\mathbb{Z}$ and pick from it the element $v = 3$ (lucky seven meet holy trinity).
%
\nbea
7 & = & 3 \times 2 + 1
\neea
%
Adding one more $3$ and substracting $7$
%
\nbea
((3 \times 2) + 3) - 7 & = & 3 - 1 \\
& = & 2
\neea
%
But in the induction process leading up to $3$ we have found the inverse for $2$ which is $4, ~2\cdot 4 = 8 = 1$. Thus the inverse of $3$ is $(2+1)\cdot 4 = 12 \to 3 \times 12 = 36 = 7\cdot 5 + 1$.

The last thing to show is that if all there inverses are unique. Say two elements $a$ and $b$ have the same inverse $c$
%
\nbea
ac & \equiv & 1 \pmod{p} \\
bc & \equiv & 1 \pmod{p} \\
\to c(a-b) & \equiv & 0 \pmod{p}
\neea
%
but since $c$ is not zero (see comment above) then $a=b$. Thus all inverses are unique.

Some side note, we can of course use the above method to get the inverse of $2$ from the inverse of $1$ but it can actually be computed a lot easier. In the case of $2$ the inverse is $y$ such that $2y = pn +  1$. We want $pn + 1$ to be even and unless $p$ is $2$, $p$ is always odd. Therefore any odd $n$ will do ($n=1$ is a very good choice) and $y$ is just $(p+1)/2$ while the case of $p=2$ is trivial since the only members of $\mathbb{Z}/2\mathbb{Z}$ are $\{0,1\}$.

In conclusion we have done a 2-in-1 combo deal. We have proven that if $p$ is not prime then $\mathbb{Z}/p\mathbb{Z}$ is a not field, in other words if $\mathbb{Z}/p\mathbb{Z}$ is a field then $p$ is prime and we have proven that if $p$ is prime then $\mathbb{Z}/p\mathbb{Z}$ is a field. Therefore we have proven a much stronger statement, {\it $p$ is prime if and only if $\mathbb{Z}/p\mathbb{Z}$ is a field}.

On the other hand, if $n$ is not prime things can still be salvage (a bit). We remove the elements $a$ of $\mathbb{Z}/n\mathbb{Z}$ that have $\gcd(a,n) \neq 1$. However, even though the surviving elements all have inverses, as we shall see, the set is no longer a field since it is no longer closed under addition. Now, why are the left over terms invertible? Bezout's lemma, \ie for any two numbers $a$ and $n$ and their gcd $d = \gcd(a,n) = 1$
%
\nbea
am + ny & = & 1
\neea
%
which is also a consequence of the ideals, $a\mathbb{Z} + n\mathbb{Z} = 1\mathbb{Z}$. Therefore, $m$ is the inverse of $a$ and any elements with $\gcd=1$ w.r.t $n$ will have an inverse as well.

I solved Problem 2.12 way early in the chapter when it was first mentioned and hence it didn't occur to me that you can just use Bezout's lemma to prove it, but hey, it's still a solution :)

{\bf Problem 2.13}. Find an $x \in \mathbb{Z}$ such that $x \equiv −4 \pmod{17}$ and $x \equiv 3 \pmod{23}$.

We use Theorem 2.2.2 to solve Chinese remainder theorem
%
\nbea
x = -4 + t\cdot 17 & \equiv & 3 \pmod{23} \\
17 t & \equiv & 7 \pmod{23} \\
t & = & 18 \\
\to x = -4 + 306 & = & 302
\neea
%
to solve the above we first need the inverse of 17 $\pmod{23}$ which can be computed by the extended gcd of 17 and 23. Once we find that we just multiply the inverse to both sides. Or you can just try the numbers between $1 \dots 22$ one at a time :)

{\bf Problem 2.14}. Prove that if $n > 4$ is composite then
%
\nbea
(n-1)! & \equiv & 0 \pmod{n}
\neea
%

First if $n=4$, $(n-1)! = 3! = 6$ and 6 is not $0 \pmod{n}$. For the rest, we use our awesomesauce friend the fundamental theorem of arithmetic.

Write $n$ as
%
\nbea
n & = & \prod_{i=1}^{M} p_i^{\alpha_i}
\neea
%
where each $p_i$ is distinct. We can now pick and choose :) Pick any $p$ you want, say $p_j$. Now, pull out $p_j$ out of $n$ such that $n = p_j n'$.

Now, if $p_j \neq n'$, since $p_j$ and $n'$ are both less than $n$, they are included in $(n-1)!$ (remember that $(n-1)!$ is a product of {\it all} numbers less than $n$). Thus, since $(n-1)!$ contains $n$ as a factor, $(n-1)! \equiv 0 \pmod{n}$.

When $n' = p_j$, the above argument fails since $(n-1)!$ contains all numbers less than $n$ only {\it once}. However, it can still be remedied. Let $m=p_j(p_j-1) = p_j(n'-1) \neq n$ and since $n'-1<n \to m < n$ both $m$ and $p_j$ are both contained as factors in $(n-1)!$ and $p_j n'|(n-1)! \to n | (n-1)!$. The only way it doesn't work is if $n'=2$ because then $m$ is just $p_j$ which affirms the fact that $n > 4$ for the above assertion to be true. This completes the proof.

{\bf Problem 2.15}. For what values of $n$ is $\varphi(n)$ odd?

Again, here we are going to call upon our awesomesauce friend da fundamental theorem. Recall Proposition 2.2.7 which states that if $\gcd(m,n)=1$ then $\varphi(mn) = \varphi(m) \cdot \varphi(n)$. Next, every number is a (unique) product of primes
%
\nbea
n & = & \prod_{i=1}^{M} p_i^{\alpha_i}
\neea
%
where each $p_i$ is distinct. Thus
%
\nbea
\varphi(n) & = & \prod_{i=1}^{M} \varphi(p_i^{\alpha_i})
\neea
%
For all primes $p > 2$, $\varphi(p^\alpha) = p^{\alpha-1}(p-1)$, see Eq. 2.2.2, which is even (since $p$ is odd) while $\varphi(2^\alpha) = 2^{\alpha-1}$ which also means that only when $\alpha=1$ is $\varphi(2)$ odd.

Therefore, $\varphi(n)$ is only odd if and only if $n=2$ (and also for $n=1$ but that one is trivial since the only member of $\mathbb{Z}/1\mathbb{Z}$ and $(\mathbb{Z}/1\mathbb{Z})^*$ is 1 which is also equal to $0 \pmod{1}$).

{\bf Problem 2.16}.  (a) Prove that $\varphi$ is multiplicative as follows. Suppose $m, n$ are positive integers and $\gcd(m, n) = 1$. Show that the natural map $\psi : \mathbb{Z}/mn\mathbb{Z} \to \mathbb{Z}/m\mathbb{Z} \times \mathbb{Z}/n\mathbb{Z}$ is an injective homomorphism of rings, hence bijective by counting, then look at unit groups.

(b) Prove conversely that if $\gcd(m, n) > 1$, then the natural map $\psi : \mathbb{Z}/mn\mathbb{Z} \to \mathbb{Z}/m\mathbb{Z} \times \mathbb{Z}/n\mathbb{Z}$ is not an isomorphism.

From Lemma 2.2.5 the map is
%
\nbea
\psi(c) & = & (c {\rm~mod~} m, c {\rm~mod~} n)
\neea
%
This problem is slightly different from the proof of Lemma 2.2.5, there we were dealing with units not rings. The proof will follow the proof of Lemma 2.2.5 very closely (basically copy and paste with some modification).

We first show that $\psi$ is injective (means one-to-one but doesn't mean that every element in the target space has a pre-image). If $\psi(c) = \psi(c_0)$, then $m | c−c_0$ and $n | c − c_0$, so $nm | c − c_0$ because $\gcd(n, m) = 1$. Thus $c = c_0$ as elements of $\mathbb{Z}/mn\mathbb{Z}$.

Next we show that $\psi$ is surjective (onto, \ie every element on the target space has a pre-image) that every element of $\mathbb{Z}/m\mathbb{Z} \times \mathbb{Z}/n\mathbb{Z}$ is of the form $\psi(c)$ for some $c$. 

This is where we deviate from the original proof, Theorem 2.2.2 (Chinese remainder theorem) didn't require $\gcd(a, m) = 1$ or $\gcd(b, n) = 1$. Therefore Theorem 2.2.2 implies that there exists $c$ with $c \equiv a \pmod{m}$ and $c \equiv b \pmod{n}$ and therefore $\psi$ is surjective. Hence $\psi$ is bijective.

Now since unit groups $(\mathbb{Z}/w\mathbb{Z})^*$ is a subset of $\mathbb{Z}/w\mathbb{Z}$ a bijective map $\psi$ on a subset is still bijective. This completes the proof.

For part (b) we just need to go back to the first part of the proof of (a). If $\psi(c) = \psi(c_0)$, then $m | c−c_0$ and $n | c − c_0$, but since $\gcd(n, m) > 1$ it is only guaranteed that ${\rm lcm}(n,m) | c − c_0$. This is not enough to definitely show that the map is no longer injective.

However, we can construct a counter example. Let $d = \gcd(m,n), ~m' = m/d, ~n' = n/d$ and
%
\nbea
c & = & x + m' d n' \\
c_0 & = & x
\neea
%
To make sure that $c \neq c_0$ we need $x < mn - m'dn'$ such that $c, c_0 < mn$, we also need $x < m,n$. These latter requirements are needed such that $c {\rm~mod~} m = c_0 {\rm~mod~} m$ and $c {\rm~mod~} n = c_0 {\rm~mod~} n$.

There is a number that satisfy all the above requirements, $x=1$. It is guaranteed to be $< mn - m'dn'$ because $mn / m'dn' = d, ~ mn - m'dn' = (d-1)m'dn'$ and by definition $d = \gcd(m,n) > 1$. Also, $1 {\rm~mod~} w = 1$ for any $w > 1$. Therefore
%
\nbea
c = 1 + mn/d & & c_0 = 1 \\
\psi(c) & = & (c {\rm~mod~} m, c {\rm~mod~} n) = (1,1) \\
\psi(c_0) & = & (c_0 {\rm~mod~} m, c_0 {\rm~mod~} n) = (1,1) \\
\to \psi(c) & = & \psi(c_0)
\neea
%
Therefore since $c \not\equiv c_0 \pmod{mn}$ the map is not one-to-one.

{\bf Problem 2.17}. Seven competitive math students try to share a huge hoard of stolen math books equally between themselves. Unfortunately, six books are left over, and in the fight over them, one math student is expelled. The remaining six math students, still unable to share the math books equally since two are left over, again fight, and another is expelled.
When the remaining five share the books, one book is left over, and it is only after yet another math student is expelled that an equal sharing is possible. What is the minimum number of books that allows this to happen?

The above is actually a Chinese remainder problem with the following setting
%
\nbea
x & \equiv & 6 \pmod{7} \\
x & \equiv & 2 \pmod{6} \\
x & \equiv & 1 \pmod{5} \\
x & \equiv & 0 \pmod{4}
\neea
%
We first solve the first 2, using proof of Theorem 2.2.2 $x = 6 + t\cdot 7 \equiv 2 \pmod {6}$, $7t \equiv -4 \pmod{6} \equiv 2 \pmod{6}$, so $t=2$ and $x = 6 + 2 \cdot 7 = 20$. This solution is not unique as any other $x' \equiv 20 \pmod{7\cdot 6}$ is also a solution. We have now reduced the problem to
%
\nbea
x & \equiv & 20 \pmod{42} \\
x & \equiv & 1 \pmod{5} \\
x & \equiv & 0 \pmod{4}
\neea
%
Repeating the process $x = 20 + t\cdot 42 \equiv 1 \pmod{5} \to t\cdot 42 \equiv 1 \pmod{5}$ since $5|20$, thus $t = 3$ and so $x = 20 + 3 \cdot 42 = 146$.

The last thing to do is to make it conform to $x \equiv 0 \pmod{4}$. This is the trickiest part since now $\gcd(42\cdot 5, 4) = 2 \neq 1$ and Theorem 2.2.2 needs $\gcd(m,n) = 1$, here $m = 42 \cdot 5 = 210$ and $n=4$. The situation we have now is
%
\nbea
x & \equiv & 146 \pmod{210} \\
x & \equiv & 0 \pmod{4}
\neea
%
The solution using Theorem 2.2.2 is
%
\nbea
x = 146 + t\cdot 210 & \equiv & 0 \pmod {4} \\
t\cdot 210 & \equiv & -146 \pmod {4} \\
210 t & \equiv & 2 \pmod {4}
\neea
%
Although $\gcd(42\cdot 5, 4) = 2 \neq 1$, according to Proposition 2.1.15, since $\gcd(42\cdot 5, 4) = 2$ divides 2, this equation has a solution $t=1$ with $x = 356$. 

The problem is now making sure that 356 is the smallest solution. In the proof of Theorem 2.2.2, the solution of Chinese remainder theorem is unique up to $\pmod{mn}$ which means that we can always substract $mn$ from the solution to get the smallest one. However, the proof requires $\gcd(m,n)=1$, here $\gcd(210, 4) = 2$. Let's modify the proof then.

Suppose that $x$ and $y$ solve both congruences. Then $z = x − y$ satisfies $z \equiv 0 \pmod{m}$ and $z \equiv 0 \pmod{n}$, so $m|z$ and $n|z$. Since $\gcd(n, m) \neq 1$, it follows that ${\rm lcm}(n,m) | z$, so $x \equiv y \pmod{ {\rm lcm}(n,m)}$.

Here ${\rm lcm}(210,4)=420$ and it is greater than 356, therefore 356 is the smallest solution. Math students are not very bright after all, they should've stolen 356 iPhones instead of math books :)

{\bf Problem 2.18}. Show that if $p$ is a positive integer such that both $p$ and $p^2 + 2$ are prime, then $p = 3$.

I tried to show that the fact that $p$ and $p^2 + 2$ are prime implies $p=3$ and it didn't work out too well. The reason it didn't work out well is because the tools we have to show that a number is prime are Wilson's theorem (Proposition 2.1.22) and the pseudoprimality test (Theorem 2.4.1). Both are unwieldy as Wilson involves factorial while pesudoprimality involves all numbers.

A better approach is to flip the statement, \ie if $p \neq 3$ then $p$ is not prime OR $p^2 + 2$ is not prime (we can't have both to be prime) which is the solution given in the book.

However, it is not impossible to be pigheadded and go ahead with a direct deduction from the if clause. An astute observer will notice that $2 = \varphi(3)$ such that
%
\nbea
p^2 + 2 & \Longrightarrow & p^{\varphi(3)} + \varphi(3)
\neea
%
Note that from Theorem 2.1.20 (Euler's Theorem), $x^{\varphi(p)} \equiv 1 \pmod{p}$ when $\gcd(x,p)=1$. But since 3 is prime $\gcd(x,3)=1$ for any nonzero $x$ other than 3. Therefore, for any $x > 0,~x \neq 3$
%
\nbea
x^{\varphi(3)} + \varphi(3) & \equiv & (1 + 3 - 1) \pmod{3} \\
 & \equiv & 0 \pmod{3} \\
x^{\varphi(3)} + \varphi(3) & = & 3n
\neea
%
Since $x^{\varphi(3)} + \varphi(3)$ is prime, $n=1$ is a must. But then $x=1$ is the only solution and it is not prime. Therefore $x=3$. Note that we did not even assume that $3$ meets the criterion, we just show that if there's only viable candidate, it has to be 3 :)

The problem can then be generalized, if $x, p$ are prime and $x^{n\varphi(p)} + {\varphi(p)}, ~n > 0$ is also prime, then $x=p$. The proof of this more general statement is the same as above. Since for $x \neq p$, $x^{n\varphi(p)} = 1 \pmod{p}$ and $\varphi(p) = p-1$, $x^{n\varphi(p)} + {\varphi(p)} = 0 \pmod{p}$ and $x=1$, a contradiction, therefore $x=p$.

Initially, I tried generalizing this into, $p$ and $p^2 + (p-1)$, \eg $p=5$ with $p^2 + (5-1) = 29$ where both are primes. However, for $p=7$, $p^2 + 6 = 55$ is not prime. The problem is that $5^2 + 6 = 31, ~19^2 + 6 = 367$ are also prime.

{\bf Problem 2.19}. Let $\varphi : N \to N$ be the Euler $\varphi$ function.

(a) Find all natural numbers $n$ such that $\varphi(n) = 1$.

(b) Do there exist natural numbers $m$ and $n$ such that $\varphi(mn) \neq \varphi(m) \cdot \varphi(n)$?

(a) From problem 2.15 we know that $\varphi(n) = 1$ only for $n=1,2$.

(b) As long as $\gcd(m,n) \neq 1$, $\varphi(mn) \neq \varphi(m) \cdot \varphi(n)$, as shown by the derivations leading to Proposition 2.2.7, \eg $m = 2, n = 4,~\varphi(2 \cdot 4) = 4$ while $\varphi(2)=1$ and $\varphi(4) = 2,~\varphi(2) \cdot \varphi(4) = 2 \neq \varphi(2 \cdot 4) = 4$.

{\bf Problem 2.20}. Find a formula for $\varphi(n)$ directly in terms of the prime factorization of $n$.

According to the fundamental theorem of arithmetic
%
\nbea
n & = & \prod_{i=1}^{N} p_i^{\alpha_i} \\
\varphi(n) & = & \prod_{i=1}^{N} \varphi(p_i^{\alpha_i}) \\
\varphi(n) & = & \prod_{i=1}^{N} p_i^{\alpha_i-1}(p_1 - 1)
\neea
%
we can use Proposition 2.2.7 because each prime factors are obviously co-prime to one another (obviously).

{\bf Problem 2.21}. (a) Prove that if $\varphi : G \to H$ is a group homomorphism, then $\ker(\varphi)$
is a subgroup of $G$.

(b) Prove that $\ker(\varphi)$ is normal, i.e., if $a \in G$ and $b \in \ker(\varphi)$, then $a^{-1} ba \in \ker(\varphi)$.

Some background info. The kernel of a homomorphism is the set of pre-images of the identity element, loosely the set of $\varphi^{-1}(e)$ where $e$ is identity element in the target space.

Next, a map $\varphi : G \to H$ is a homomorphism if
\bit
\item $\varphi(gh) = \varphi(g)\varphi(h)$ for all $g,h \in G$
\item $\varphi(e) = e$
\item $\varphi(g^{-1}) = (\varphi(g))^{-1}$
\eit

First order of business is to prove that $\ker(\varphi)$ forms a subgroup, \ie it must meet all the criteria of a group
\bit
\item Existence of an identity element, since $\varphi(e) = e$, $e \in \ker(\phi)$, remember that we can loosely think of kernel as $\varphi^{-1}(e)$
\item Closure of product, since we are talking about kernel, we are just interested in the pre-images of the identity $e$. Suppose $\varphi(a) = e$ and $\varphi(b)=e$, \ie $a,b \in \ker(\phi)$, since $\varphi$ is a homomorphism $\varphi(ab) = \varphi(a)\varphi(b) = e \cdot e = e$, therefore $a\cdot b \in \ker(\phi)$
\item Existence of inverse. Suppose $a \in \ker(\varphi)$, since $\varphi$ is a homomorphism $\varphi(a^{-1}) = (\varphi(a))^{-1} = (e)^{-1} = e$. Therefore $a^{-1} \in \ker(\varphi)$.
\eit

For part (b) since $\varphi$ is a homomorphism 
%
\nbea
\varphi(a^{-1} ba) & = & \varphi(a^{-1}) \varphi(b) \varphi(a), ~~~ b \in \ker(\varphi) \to \varphi(b) = e \\
& = & (\varphi(a))^{-1}~ e ~ \varphi(a) \\
& = & (\varphi(a))^{-1} \varphi(a)) e \\
& = & e \cdot e \\
& = & e
\neea
%
Therefore $a^{-1} ba \in \ker(\varphi)$ and $\ker(\varphi)$ is normal.

{\bf Problem 2.22}. Is the set $\mathbb{Z}/5\mathbb{Z} = \{0, 1, 2, 3, 4\}$ with binary operation multiplication
modulo 5 a group?

Well, it is not because of the element 0, it has no inverse :)

{\bf Problem 2.23}. Find all four solutions to the equation
%
\nbea
x^2 - 1 & \equiv & 0 \pmod{35}.
\neea
%

We know that $1$ and $35-1 \equiv -1 \pmod{35}$ are roots of $x^2-1\equiv 0 \pmod{35}$ and all roots must have gcd 1 with 35,  the other two roots (by the slow way of elimination) are $6$ and $29$.

{\bf Problem 2.24}. Prove that for any positive integer $n$ the fraction $(12n + 1)/(30n + 2)$ is in reduced form.

Reduced form means that $\gcd(12n + 1, 30n + 2) = 1$ (we cannot simplify it further). Say $d = \gcd(12n + 1, 30n + 2)$
%
\nbea
12n + 1 & = & da \\
30n + 3 & = & db \\
\to \frac{12\cancel{n}}{30\cancel{n}} & = & \frac{da - 1}{db - 2} \\
\frac{2}{5} & = & \frac{da - 1}{db - 2} \\
2db - 4 & = & 5da - 5 \\
d(2b - 5a) & = & -1 \\
\to d &|& -1
\neea
%
which means that $d=1$ and the fraction is indeed in reduced form.

{\bf Problem 2.25}. Suppose $a$ and $b$ are positive integers.

(a) Prove that $\gcd(2^a - 1, 2^b - 1) = 2^{\gcd(a,b)} - 1$.

(b) Does it matter if 2 is replaced by an arbitrary prime $p$?

(c) What if 2 is replaced by an arbitrary positive integer $n$?

First, assume without loss of generality $b > a, ~ b = aq_0 + r_0$ ($b=a$ is obvious), we then use Lemma 1.1.9, $\gcd(a,b) = \gcd(a,b-a)$
%
\nbea
\gcd(2^a - 1, 2^b - 1) & = & \gcd(2^a - 1, 2^b - 1 - 2^a + 1) \\
& = & \gcd(2^a - 1, 2^a(2^{b-a} - 1))
\neea
%
But we also know that $\gcd(2^a - 1, 2^a)=1$ because two consecutive numbers cannot have gcd larger than 1 because
%
\nbea
d|a & & d|a+1 \\
d|(a+1-a)& \to & d|1 \\
\to d & = & 1
\neea
%
Now since $\gcd(2^a - 1, 2^a)=1$
%
\nbea
\gcd(2^a - 1, 2^b - 1) & = & \gcd(2^a - 1,2^{b-a} - 1)
\neea
%
We can then repeat the process $\gcd(2^a - 1,2^{b-a} - 1) = \gcd(2^a - 1,2^a(2^{b-a} - 1)) = \gcd(2^a - 1, 2^{b-2a}-1)$, doing this $q_0 = \floor{b/a}$ times we will get
%
\nbea
\gcd(2^a - 1, 2^b - 1) & = & \gcd(2^a - 1, 2^{b- aq_0} - 1) = \gcd(2^a - 1, 2^{r_0} - 1)
\neea
%
where $r_0 = b \mod a$. Since $0 \le r_0 < a$, we now swap the role of $a \leftrightarrow r_0$ and do the same thing
%
\nbea
\gcd(2^a - 1, 2^{r_0} - 1) = \gcd(2^{r_0} - 1, 2^a - 1) & = & \gcd(2^{r_0} - 1, 2^a - 1 - 2^{r_0} + 1) \\
& = & \gcd(2^{r_0} - 1, 2^{r_0}(2^{a - r_0} - 1)) \\
& = & \gcd(2^{r_0} - 1, 2^{a - r_0} - 1)
\neea
%
We can again repeat this $q_1 = \floor{a/r_0}$ times until we get
%
\nbea
\gcd(2^{r_0} - 1, 2^a - 1) & = & \gcd(2^{r_0} - 1, 2^{a - r_0q_1} - 1) = \gcd(2^{r_0} - 1, 2^{r_1} - 1)
\neea
%
where $r_1 = a \mod r_0$. We are thus just following the steps of Euclid's gcd algorithm
%
\nbea
\gcd(2^a - 1, 2^b - 1) & = & \gcd(2^a - 1, 2^{r_0} - 1), ~~~b = aq_0 + r_0 \\
\gcd(2^{r_0} - 1, 2^a - 1) & = & \gcd(2^{r_0} - 1, 2^{r_1} - 1), ~~~a = r_0q_1 + r_1 \\
\gcd(2^{r_1} - 1, 2^{r_0} - 1) & = & \gcd(2^{r_1} - 1, 2^{r_2} - 1), ~~~r_0 = r_1q_2 + r_2 \\
& \vdots & \\
\gcd(2^{r_{n-1}} - 1, 2^{r_{n-2}} - 1) & = & \gcd(2^{r_{n-1}} - 1, 2^{d} - 1), ~~~r_{n-2} = r_{n-1}q_n + d \\
\gcd(2^{d} - 1, 2^{r_{n-1}} - 1) & = & \gcd(2^{d} - 1, 2^{dq_1} - 1), ~~~r_{n-1} = dq_1
\neea
%
where $d = \gcd(a,b)$. If we repeat the same process on the last equality $q_1$ times
%
\nbea
\gcd(2^{d} - 1, 2^{dq_1} - 1) & = & \gcd(2^{d} - 1, 2^{dq_1-dq_1} - 1) \\
& = & \gcd(2^{d} - 1, 2^0 - 1) = \gcd(2^{d} - 1, 0) \\
& = &  2^{d} - 1 = 2^{\gcd(a,b)} - 1\\
\gcd(2^a - 1, 2^b - 1) & = & 2^{\gcd(a,b)} - 1
\neea
%
This completes the proof of (a). For (b) and (c), it is obvious from the above derivation that 2 can be substituted with any number.

{\bf Problem 2.26}. For every positive integer $b$, show that there exists a positive integer $n$ such that the polynomial $x^2 - 1 \in (\mathbb{Z}/n\mathbb{Z})[x]$ has at least $b$ roots.

From my first misadventure I gathered the following facts about roots of $x^2 - 1 = 0 \pmod{n}$. First of all, the roots of $x^2 - 1$, denote them $\beta  \to \beta^2 - 1 \equiv \pmod{n}$ satisfy $\gcd(\beta,n)=1$ because otherwise say $d = \gcd(\beta,n) > 1,~\beta=d\beta',~n=dn'$
%
\nbea
\beta^2 - 1 & \equiv & 0 \pmod{n} \\
\beta^2 - 1 & = & 0 + ny \\
\beta^2 - ny & = & 1 \\
d(\beta'\beta - n'y') & = & 1 \\
\to d&|&1
\neea
%
which is a contradiction. Or you can just use Bezout's lemma, since $\beta^2 \equiv 1 \pmod{n}$
%
\nbea
\beta^2 & = & 1 + ny \\
\beta\cdot \beta - n\cdot y & = & 1
\neea
%
therefore $\gcd(\beta,n)=1$.

Second, since $x^2 - 1 = (x-1)(x+1)$, $x=1$ and $x=-1=n-1 \pmod{n}$ are automatically solutions.

Third, once you have two solutions $\alpha,\beta$ (not equal to $1$ of course) you can get a third one because
%
\nbea
\alpha^2 \cdot \beta^2 & \equiv & 1 \cdot 1 \pmod{n} \\
(\alpha\beta)^2 & \equiv & 1 \pmod{n}
\neea
%
and $\alpha\beta$ cannot be equivalent to $\alpha$ or $\beta$ because otherwise
%
\nbea
\alpha\bcancel{\beta} & \equiv & \bcancel{\beta} \pmod{n} \\
\alpha & \equiv & 1 \pmod{n}
\neea
%
which is a contradiction (the same argument works for $\alpha\beta \equiv \alpha \pmod{n} \to \beta \equiv 1 \pmod{n}$). In the above argument we can cancel $\alpha$ or $\beta$ from both sides because $\gcd(\alpha,n) = \gcd(\beta,n) = 1$. But you cannot continue this process indefinitely as multiplying the new solution with $\alpha$ or $\beta$ produces
%
\nbea
\alpha \cdot \alpha\beta = (\alpha^2)\beta & \equiv & 1 \cdot \beta \pmod{n} \\
\alpha^2\beta & \equiv & \beta \pmod{n}
\neea
%
so we are not getting any new solution (the same thing happens if you multiply $\beta$ with the new solution $\alpha\beta$ you'll just get $\alpha$).

Other than the above items, I didn't see any way to prove the number of solutions of a polynomial modulo ${n}$ (especially when $n$ is not prime).

The way to prove that we can find $n$ such that $x^2-1$ has at least $b$ solutions is to use something called the Chinese remainder map. Consider a number, any number $x$, we can represent this number in the following way
%
\nbea
x & \equiv & x_{1} \pmod{n_{1}} \\
x & \equiv & x_{2} \pmod{n_{2}} \\
 & \vdots & \\
x & \equiv & x_{123} \pmod{n_{123}} \\
& \vdots & \\
x & \equiv & x_{M} \pmod{n_{M}}
\neea
%
where $x_1 = x \mod n_i$, \ie it is just the remainder of $x$, and $x$ is unique up to
%
\nbea
x & \equiv & x' \pmod{n_1 \cdot n_2 \dots n_{123} \dots n_M}
\neea
%
provided that all the $n_i$'s are c relatively prime to one another.

We can now solve this problem. First, find $b$ numbers of distinct primes $p_1, \dots, p_b$ (we can do this since Euclid has proven that there are infinitely many prime numbers). Now, we multiply all those $b$ prime numbers into $n = p_1 \cdot \dots \cdot p_b$ and we want to solve $x^2-1 \equiv \pmod{n}$.

There is of course at least one solution to $x^2-1 \equiv 0 \pmod{n}$, \eg $x=1$, let's denote this solution $\beta \to \beta^2 - 1 \equiv 0 \pmod{n}$. It is more helpful to denote $\alpha = \beta^2$, therefore if we represent $\alpha$ using Chinese remainder map
%
\nbea
\alpha_i & \equiv & \beta_i^2 \pmod {p_i} \\
& \equiv & (\pm\beta_i)^2 \pmod {p_i}
\neea
%
since $(-\beta_i)^2 = (+\beta_i)^2$. We can thus choose whether we want to include the minus sign of {\bf each} $\beta_i$ and presto we have $2^b$ distinct $\beta$'s, \ie $2^b$ distinct roots of $x^2-1$. The only trick here is that $p_i > 2$ because $\mathbb{Z}/2\mathbb{Z}$ only has 1 ``element'' so to say, \ie $-1 \equiv +1 \pmod{2}$, thus $\pm \beta_i = \beta$, altering the minus sign doesn't produce a new solution. Let's see this with an example. 

Say $b=2$, $p_1 = 2,~p_2 = 3$, we now want to solve $x^2 - 1 \equiv 0 \pmod{6}$. We know that $1 \pmod {6}$ is a solution, \ie $\alpha = 1$, which means that
%
\nbea
\alpha & \equiv & 1 \pmod{2}, ~~~ \alpha_1 = 1 \\
\alpha & \equiv & 1 \pmod{3}, ~~~ \alpha_2 = 1 \\
\alpha_1 & \equiv & (\pm 1)^2 \pmod{2} \\
\alpha_2 & \equiv & (\pm 1)^2 \pmod{3}
\neea
%
We now have $2^2 = 4$ choices for $\beta=(\beta_1,\beta_2) = (+1,+1),~(-1,+1),~(+1,-1),~(-1,-1)$
%
\nbea
(+1,+1) & \to & \beta = 1 \pmod{6} \\
(-1,+1) & \to & \beta = 1 \pmod{6} \\
(+1,-1) & \to & \beta = 5 \pmod{6} \\
(-1,-1) & \to & \beta = 5 \pmod{6}
\neea
%
Oops, we only get {\it two} distinct solutions, had we started with $p_1 = 3,~p_2 = 5$ instead, we would have gotten
%
\nbea
\alpha_1 & \equiv & (\pm 1)^2 \pmod{3} \\
\alpha_2 & \equiv & (\pm 1)^2 \pmod{5} \\
(+1,+1) & \to & \beta = 1 \pmod{15} \\
(-1,+1) & \to & \beta = 4 \pmod{15} \\
(+1,-1) & \to & \beta = 11 \pmod{15} \\
(-1,-1) & \to & \beta = 14 \pmod{15}
\neea
%
{\it four} distinct $\beta$'s, \ie four distinct roots instead of just two.

Our proposed solution above is actually an overkill, we do not need $2^b$ solutions, we just need $b$ solutions, so we only need $\ceil{\log_2(b)}$ distinct prime numbers (each $>2$).
 
{\bf Problem 2.27}. (a) Prove that there is no primitive root modulo $2^n$ for any $n \ge 3$.
(b) (*) Prove that $(\mathbb{Z}/2^n\mathbb{Z})^*$ is generated by $-1$ and 5.

For part(a) we just need to follow the hint. We will need to use induction, but to avoid notational clutter, I'll just show a specific case instead of the generic case in the induction step.

From the hint we know that all elements of $(\mathbb{Z}/8\mathbb{Z})^*$ have multiplicative order of 2. Now take for example $2^4 = 16$, $\varphi(16) = 8$. Assume that the order of $x \in (\mathbb{Z}/16\mathbb{Z})^*$ is 8, \ie $x^8 \equiv 1 \pmod{16}$.

Since the order of $x$ modulo ${16}$  is 8, $x^4, x^2, x \not\equiv 1 \pmod{16}$. There is something we can say about $x^2$, we know that $x^2 \not\equiv 1 \pmod{8}$, why? because if it is
%
\nbea
x^2 & \equiv & 1 \pmod{8} \\
& = & 1 + 8n \\
x^4 & = & (1+8n)^2 = 1 + 16n + 64n^2 \\
x^4 & \equiv & 1 \pmod{16}
\neea
%
which is a contradiction since the order of $x$ modulo 16 is 8. Since $x \neq 1$, and thanks to Euler's theorem $x^{\varphi(8)} = x^4 \equiv 1 \pmod{8}$, the order of $x$ modulo 8 has to be 4. But we know that the order of any $x \in (\mathbb{Z}/8\mathbb{Z})^*$ is 2. Thus the order of $x$ modulo 16 cannot be 8, whatever $x$ is and $(\mathbb{Z}/16\mathbb{Z})^*$ does not have a primitive root. It is then obvious that we can generalize the above argument for the general inductive step by replacing 8 with $2^n$ and 16 with $2^{n+1}$.

For part (b), there are many things we need to consider. We know that the elements of $(\mathbb{Z}/2^n\mathbb{Z})^*$ are just positive odd numbers $< 2^n$. By a generator the question hints that we can make any element of $(\mathbb{Z}/2^n\mathbb{Z})^*$ by multiplying $5$ and $-1$ arbitrary times, \ie the group operation is multiplication modulo $2^n$ and therefore any element of $(\mathbb{Z}/2^n\mathbb{Z})^*$ can be generated from $(-1)^a 5^b$ for some $a,b$.

A cursory observation shows that there is a pattern on $5^q \mod 2^n$ as shown in Table.\ref{Tab:1}.

%
\begin{table}[]
\centering
\caption{}
\label{Tab:1}
\begin{tabular}{|c|c|c|c|c|c|c|}
\hline
$q$ & $5^q$ & $5^q \mod 2^2$ & $5^q \mod 2^3$ & $5^q \mod 2^4$ & $5^q \mod 2^5$ & $5^q \mod 2^6$ \\ \hline 
1 & 5 & {\bf 1} & $5$ & $5$ & $5$ & $5$\\ \hline
2 & 25 & {\bf 1}  & {\bf 1} & $9$ & $25$ & $25$ \\ \hline
3 & 125 & {\bf 1}  & $5$ & $13$ & $29$ & $61$ \\ \hline
4 & 625 & {\bf 1}  & {\bf 1} & {\bf 1} & $17$ & $49$ \\ \hline
5 & 3125 & {\bf 1}  & $5$ & $5$ & $21$ & $53$ \\ \hline
6 & 15625 & {\bf 1}  & {\bf 1} & $9$ & $9$ & $9$ \\ \hline
7 & 78125 & {\bf 1}  & $5$ & $13$ & $13$ & $45$ \\ \hline
8 & 390625 & {\bf 1}  & {\bf 1} & {\bf 1} & {\bf 1} & $33$ \\ \hline
9 & 1953125 & {\bf 1}  & $5$ & $5$ & $5$ & $37$ \\ \hline
10 & 9765625 & {\bf 1}  & {\bf 1} & $9$ & $25$ & $57$ \\ \hline
11 & 48828125 & {\bf 1}  & $5$ & $13$ & $29$ & $29$ \\ \hline
12 & 244140625 & {\bf 1}  & {\bf 1} & {\bf 1} & $17$ & $17$ \\ \hline
13 & 1220703125 & {\bf 1}  & $5$ & $5$ & $21$ & $21$ \\ \hline
14 & 6103515625 & {\bf 1}  & {\bf 1} & $9$ & $9$ & $41$ \\ \hline
15 & 30517578125 & {\bf 1}  & $5$ & $13$ & $13$ & $13$ \\ \hline
16 & 152587890625 & {\bf 1}  & {\bf 1} & {\bf 1} & {\bf 1} & {\bf 1} \\ \hline
\end{tabular}
\end{table}
%
There is a compelling pattern in Table.~\ref{Tab:1}, the order of $5$ modulo $2^n$ is $2^{n-2}$. This has a serious implication. Take for example the phase from $2^3 \to 2^4$, $625 \mod 8 = 625 \mod 16 = 1$ while $25 \mod 8 \neq 25 \mod 16$. This is because
%
\nbea
25 & = & 1 + 8u \\
25 & = & 9 + 16v = (1 + 8) + 2 \cdot 8 v \\
& = & 1 + 8(2v + 1) \\
\to u & = & 2v + 1
\neea
%
while
%
\nbea
625 & = & 1 + 8r \\
625 & = & 1 + 16s \\
\to r & = & 2s
\neea
%
This says that at the order $q$ of $5$ for a particular $2^n$ the quotient $\floor{5^q/2^n}$ is always odd
%
\nbea
\frac{5^{2^{n-2}}-1}{2^n} & = & {\rm odd}
\neea
%
But this all makes sense, every number is either even or odd, say
%
\nbea
5^M & \equiv & r \pmod{2^N} \\
5^M & = & 2^N L + r 
\neea
%
if $L$ is odd
%
\nbea
5^M & = & 2^N (2U+1) + r = 2^{N+1}U + (2^N + r)\\
5^M & \equiv & (2^N + r) \pmod{2^{N+1}}
\neea
%
if $L$ is even
%
\nbea
5^M & = & 2^N (2U) + r = 2^{N+1}U + r \\
5^M & \equiv & r \pmod{2^{N+1}}
\neea
%

We are now ready to prove Problem 2.27(b) by utilizing induction. First, we fix $n$ and show that the quotient $\floor{5^{qm}/2^n}$ where $5^{qm} \equiv 1 \pmod{2^n}$ oscillates between odd and even as we ascendingly traverse through different values of $m=1 \dots \infty$ with $m=1$ (which means $q$ is the order of 5 modulo $2^n$) having an odd quotient. We then use induction to prove that this patterns continues as we increase $n$.

To setup the induction proof we set $n = 2,~2^n = 4$. The order of 5 modulo 4 is obviously 1 and
%
\nbea
5 & = & 2^2 \cdot 1 + 1
\neea
%
Thus the quotient $\floor{5/2^2} = 1$ is odd and we have met the prerequisite of an odd quotient. We now move on to the oscillating pattern. Even though we have fixed $n=2$, it is constructive to be more generic.

Let's denote the order of 5 modulo $2^n$ as $q$ and the quotient $\floor{5^q/2^n} = k$. In the above example, $q=1$, $n=2$, and $k=1$. The thing we need here is that $k$ is odd. To proceed we need a fact about the multiplicative order of a number.

{\bf Proposition 2.27.(b).1} $x^m \equiv 1 \pmod{n}$ if and only if $q|m$ where $q$ is the (multiplicative) order of $x$ modulo $n$.

{\it Proof}. Say $q \nmid m$, this means that $m = qs + r$ and
%
\nbea
x^m & = & x^{qs+r} = (x^q)^s~x^r \\
1 \pmod{n} & \equiv & 1 \cdot x^r
\neea
%
but we know that $0 \le r < q$ and $q$ is the {\it smallest} power such that $x^q \equiv 1 \pmod{n}$, thus the only way for it to be consistent is if $r=0$ which in turn means that $q|m$. So we have proven that if $x^m \equiv 1 \pmod{n}$ then $q|m$.

The other way is obvious, if $q|m$ then $m = qs$, therefore
%
\nbea
x^m & = & x^{qs} = (x^q)^s \\
& \equiv & 1^s \pmod{n} \\
x^m & \equiv & 1 \pmod{n}
\neea
%
This completes our proof.

As a side note, an interesting (or not) fact about $5^q$ modulo $2^n$ I found while solving this problem is that when we increase $q \to q+1$ the remainder always changes. Here's why, 
%
\nbea
5^q & = & 2^n q + r \\
5^{q+1} & = & 2^n(5q) + 5r
\neea
%
If $5r < 2^n$ then $5^q \mod 2^n \neq 5^{q+1} \mod 2^n$ if $5r > 2^n$, $5r = 2^n + r'$, therefore $5^{q+1} \equiv r' \pmod{2^n}$. If $r = r'$
%
\nbea
5r & = & 2^n + r' = 2^n + r \\
4r & = & 2^n \\
r & = & 2^{n-2}
\neea
% 
Thus
%
\nbea
5^q & = & 2^n q + r \\
& = & 2^n q + 2^{n-2} \\
& = & 2^{n-2}(2^2q + 1) \\
\to 2 &|& 5^q
\neea
%
which is a contradiction and thus every time we increase $q$ the remainder changes, except for $n = 2$ where $5^q \mod 2^2$ is always 1. The above proof also applies when we replace $1+p$ for $5$ and $p^n$ for $2^n$ where $p$ is an odd prime since the logic is the same.

We now resume our earlier proof. From our proposition above, for $5^y \equiv 1 \pmod{2^n}$ to be true, $y = qm$. We now list $1 \pmod{2^n}$ in ascending power of $5$, note that $5^{qm} = (5^q)^m$
%
\nbea
\begin{array} {l c l c l c l}
(5^{q})^1 & = & 1 + A & = & 1 + A (1) & = & 1 + 2^n \cdot {\rm odd} \\
(5^{q})^2 & = & 1 + 2A + A^2 & = & 1 + A(2 + A) & = & 1 + 2^n \cdot {\rm even} \\
(5^{q})^3 & = & 1 + 3A + 3A^2 + A^3 & = & 1 + A(3 + 3A + A^2) & = & 1 + 2^n \cdot {\rm odd} \\
(5^{q})^4 & = & 1 + 4A + 6A^2 + 4A^3 + A^4 & = & 1 + A(4 + 6A + 4A^2 + A^3) & = & 1 + 2^n \cdot {\rm even} \\
& \vdots & & & & & \\
(5^{q})^m & = & 1 + mA + m_1A^2 + \dots + A^m & = & 1 + A(m + m_1A + \dots + A^m)
\end{array}
\neea
%
where we have denoted $A = 2^n k$ to avoid clutter. 

Some points to consider. One, the coefficient of $A^0$ in the bracket $(m + m_1A + \dots + A^{m_0})$ is always the exponent $m$ as dictated by binomial expansion. Two, each term in bracket has $A$ as a factor and therefore even, except for $m$. Three, the sum of odd and even is odd and since all the terms in bracket except for $m$ is guaranteed to be even, the even/oddness of the sum of all the terms inside the bracket is determined by $m$. Lastly, since $A=2^n k$ and $k$ is odd, the even/oddness of the quotient $\floor{5^{qm}/2^n}$ is determined by the even/oddness of the bracket.

Since the sequence of the coefficients of $A^0$ in brackets is just the sequence of natural numbers, the quotient $\floor{5^{qm}/2^n}$ oscillates between odd and even, starting with odd since $k$ is odd. This completes the first part of our proof.

The induction itself involves varying $n$. We have proven above that for the case of $n=2,~2^n = 4$ the order of 5 modulo 4 is $2^{n-2} = 1$. There are several intermediate steps we need to establish to complete this proof
%
\bit
\item Our inductive assumption is that $5^w \equiv 1 \pmod{2^n}$ has the oscillating pattern as described above where the order $q_n$ of 5 modulo $2^{n}$ is $q_n = 2^{n-2}$ and the first quotient is odd.
\item First, we want to show that if $5^w \equiv 1 \pmod{2^n}$ has the oscillating pattern as described above, $5^w \equiv \pmod{2^{n+1}}$ will also have the same oscillating pattern (with a lower frequency and an odd first quotient), this is to ensure the continual survival of our inductive step. We eould like the first quotient to be odd to make sure that it doesn't remain 1 when we increase $n \to n + 1$.
\item We want to show that the order of 5 modulo $2^{n+1}$ is $2q_n$ where $q_n$ is the order of 5 modulo $2^n$.
\item Combining the above two results, and knowing that $q=1$ for $n=2, ~2^n=4$, shows that the order of 5 modulo $2^z$ is $2^{z-2}$.
\item Since the above pattern repeats for the inductive step, the conclusion that the order of 5 modulo $2^z$ is $2^{z-2}$ holds for any $z$. This will only show that $5^z$ covers half of the elements of $(\mathbb{Z}/2^n\mathbb{Z})^*$, remember that $(\mathbb{Z}/2^n\mathbb{Z})^*$ has $2^{n-1}$ elements.
\item We then show that $-(5^h)$ generates the other half of $(\mathbb{Z}/2^n\mathbb{Z})^*$ and this would complete our proof that $5$ and $-1$ generate $(\mathbb{Z}/2^n\mathbb{Z})^*$.
\eit
%
We now proceed to prove our first item in the preceding list. By assumption we know that up to $n$, the quotient $\floor{5^{q_n m_n}/2^n}$ oscillates between odd and even where $q_n$ is the order of 5 modulo $2^n$, also $5^{q_n} = 1 + A_n$ where $A_n = 2^n k_n$. By our inductive assumption the first quotient $k_n = \floor{5^{q_n}/2^n}$ is odd and therefore
%
\nbea
5^{q_n} & = & 2^n k_n + 1 \\
& = & 2^n (2l_n+1) + 1 \\
& = & 2^{n+1}l_n + (2^n + 1) \\
5^{q_n} & \equiv & (2^n + 1) \pmod{2^{n+1}} \not\equiv 1 \pmod{2^{n+1}}
\neea
%
Thus the order of 5 modulo $2^{n+1}$ is not $q_n$. For the even quotients, we can pull out the factor 2 such that
%
\nbea
\begin{array} {l c l c l c l}
(5^{q_n})^2 & = & (5^{2q_n})^1 & = & 1 + 2A_n + A_n^2 & = & 1 + 2A_n(1 + A_n/2) \\
(5^{q_n})^4 & = & (5^{2q_n})^2 & = & 1 + 4A_n + 6A_n^2 + 4A_n^3 + A_n^4 & = & 1 + 2A_n(2 + 3A_n + 2A_n^2 + A_n^3/2) \\
(5^{q_n})^6 & = & (5^{2q_n})^3 & = & 1 + 6A_n + 15A_n^2 + \dots + A_n^6 & = & 1 + 2A_n(3 + 15A_n/2 + \dots + A_n^5/2) \\
(5^{q_n})^8 & = & (5^{2q_n})^4 & = & 1 + 8A_n + 28A_n^2 + \dots + A_n^8 & = & 1 + 2A_n(4 + 14A_n + \dots + A_n^8/2) \\
& \vdots & & & \\
(5^{q_n})^m & = & (5^{2q_n})^{m/2} & = & 1 + mA_n + m_1A_n^2 + \dots + A_n^m & = & 1 + 2A_n(m/2 + m_1A_n/2 + \dots + A_n^m/2)
\end{array}
\neea
%
since $2A_n = 2^{n+1} k_n$, $5^{2q_n} \equiv 1 \pmod{2^{n+1}}$. Even though we pulled out a factor of 2, $A/2$ is still even since $n > 2,~2^{n-1} = 2g$ thus just like before the quotients $\floor{5^{(2q_n)d}/2^{n+1}}$ oscillates between odd and even as we traverse $d$ monotonically. The first quotient is $1 + A_n/2$ which is odd plus even = odd, therefore we met all the criteria of having oscillating quotients with the first one being odd.

But we might have jumped the gun by claiming that $2q_n$ is the order of 5 modulo ${2^{n+1}}$. We need to demonstrate this explicitly, which is the next item in the list.

This is actually quite straightforward, we know from Euler's theorem that $x^{\varphi(n)} \equiv 1 \pmod{n}$. Here we have $5^{\varphi(2^{n+1})} \equiv 1 \pmod{2^{n+1}}$, with $\varphi(2^{n+1}) = 2^{n}$.

Now, we have previously shown that $5^{q_n} \equiv (2^n + 1) \pmod{2^{n+1}} \not\equiv 1 \pmod{2^{n+1}}$, combined with the inductive assumption that $q_n = 2^{n-2}$ this means that $5^{2^{m}} \not\equiv 1 \pmod{2^{n+1}}$ for $m \le n-2$ because otherwise we will infract Proposition 2.27.(b).1. 

But from Euler's theorem we know that $q_{n+1}$ has to be $2^u$, and we have shown that $5^{2^{m}} \not\equiv 1 \pmod{2^{n+1}}$ for $m \le n-2$ while showing that $5^{2q_n} = 5^{2^{n-1}} \equiv 1 \pmod{2^{n+1}}$, thus the order of 5 modulo $2^{n+1}$ has to be $q_{n+1} = 2q_n = 2^{n-1}$. This completes step 2 of the induction proof.

We have therefore successfully shown that the order of $5 \mod 2^z$ is $2^{z-2}$ for any $z > 2$. The next major task is to show that $-(5^h)$ generates the other half of $(\mathbb{Z}/2^n\mathbb{Z})^*$.

This turns out to be quite tricky. The point here is that we must make sure that $-(5^a)$ are all distinct from $+(5^b)$ for any positive integer $a,b$. And they all are, this is why. Suppose some $+(5^b) \equiv -(5^a) \pmod{2^n}$
%
\nbea
5^b & \equiv & -(5^a) \pmod{2^n} \\
5^b + 5^a & \equiv & 0 \pmod{2^n} \\
5^b + 5^a & = & 2^n s
\neea
%
A crucial observation we need is that the difference between any two powers of $5$ is a multiple of 4
%
\nbea
5^u - 5^v & = & (2^n q_u + r_u) - (2^n q_v + r_v) \\
5^v(5^{u-v} - 1) & = & 2^n(q_u - q_v) + (r_u - r_v) \\
5^v(5 - 1)(5^{u-v-1} +\dots + 5 + 1) & = & 2^n(q_u - q_v) + (r_u - r_v) \\
4 \cdot 5^v (5^{u-v-1} + \dots + 5 + 1) & = & 4 \cdot 2^{n-2}(q_u - q_v) + (r_u - r_v) \\
\to 4 &|& (r_u - r_v)
\neea
%
So the difference between any two remainders of $5^a$ and $5^b$, modulo $2^n$, is a multiple of $4$. And we know, thanks to Euler's theorem, that one of those remainders is obviously $1$, we can therefore write
%
\nbea
5^b + 5^a & = & 2^n s \\
2^n q_a + r_a + 2^n q_b + r_b & = & 2^n s \\
(1 + 4h_a) + (1 + 4h_b) & = & 2^n \Delta, ~~~~~ \Delta = s - q_a - q_b \\
2(1 + 2(h_a + h_b)) & = & 2^n \Delta \\
1+ 2(h_a + h_b) & = & 2^{n-1} \Delta \\
\to 2 &|& 1
\neea
%
which is a contradiction. Therefore, since $-(5^h)$ are just the negative of $5^h$, $-(5^h) \pmod {2^n}$ with $1\le h \le q_{n}$ are all distinct from $+(5^b) \pmod {2^n}$. This also means that there are no $-(5^f) \equiv -(5^g) \pmod{2^n}$, $1\le f,g \le q_{n}, ~f \neq g$, because otherwise $(5^f) \equiv (5^g) \pmod{2^n}$ which means that $5^{|f-g|} \equiv 1 \pmod{2^n}, ~|f-g| < q_n$, a contradiction since $q_n$ is the order of 5 modulo $2^n$. So we have indeed  shown that $-(5^h)$ generates the other half of $(\mathbb{Z}/2^n\mathbb{Z})^*$.

And we have arrived, plugging in our base case $n=2,~ 2^n=4$ and letting the inductive machinery takes over, we see that we have proven that $5$ and $-1$ generate $(\mathbb{Z}/2^n\mathbb{Z})^*$ for $n\ge2$.

Some interesting point. There's a version of this proof on Victor Soup's book that is way more elegant than mine. Also, $3$ and $-1$ also actually generate $(\mathbb{Z}/2^n\mathbb{Z})^*$ (as well as 11, 13, 19, 21, 29 and so on as we shall see in a bit). There's a something peculiar about 3 but we will discuss that when we discuss the solution for 2.28 because they are related (by blood?).

{\bf Problem 2.28}. Let $p$ be an odd prime.

(a) (*) Prove that there is a primitive root modulo $p^2$ . (Hint: Use that if $a, b$ have orders $n, m$, with $\gcd(n, m) = 1$, then $ab$ has order $nm$.)

(b) Prove that for any $n$, there is a primitive root modulo $p^n$.

(c) Explicitly find a primitive root modulo 125.

Personally speaking, the hint is quite misleading. We know that $\varphi(p^2) = p(p-1)$. In the proof of the existence of a primitive root of $(\mathbb{Z}/p\mathbb{Z})^*$, the author uses the fact that we can decompose $(p-1)$ into its prime factors and by using the fact that $x^n-1$ always have exactly $n$ roots we can construct a primitive root of $(\mathbb{Z}/p\mathbb{Z})^*$.

The problem here is that $p^2$ is no longer prime, thus we don't know how many roots $x^n-1$ has. The best I could do was prove that $x^2-1$ modulo $p^2$ has exactly 2 roots (true for modulo $p^n$ as well not just modulo $p^2$)
%
\nbea
x^2-1 & = & (x-1)(x+1) \equiv 0 \pmod{p^n} \\
(x-1)(x+1) & = & p^n w
\neea
%
Now since $p$ is prime it's either $p|(x-1)$ or $p|(x+1)$ since there are $n$ of them we have $p^a|(x-1)$ or $p^b|(x+1)$ with $a+b=n$.

If $b=0$ then $x-1 \equiv 0 \pmod{p^n} \to x \equiv 1 \pmod{p^n}$, the other extreme $a=0$ means that $x \equiv -1 \pmod{p^n}$. How about the middle ground?
%
\nbea
x + 1 & = & p^b u \\
x - 1 & = & p^a s \\
(x+1) - (x-1) = 2 & = & p^a(p^{b-a}u - s) \\
\to p &|& 2
\neea
%
which is a contradiction unless $p=2$ (but we are talking about an odd $p$). Therefore there are only 2 roots $x = \pm 1$. We also know that $x^{\varphi(p^n)}-1$ has exactly $\varphi(p^n)$ roots (from Euler's theorem), however
%
\nbea
x^{\varphi(p^n)}-1 & = & (x^2-1)(x^{\varphi(p^n)/2} + \dots + 1)
\neea
%
therefore $(x^{\varphi(p^n)/2} + \dots + 1)$ has exactly $\varphi(p^n)-2$ roots. Note that $2|\varphi(p^n)$ since $\varphi(p^n) = p^{n-1}(p-1)$ and $p-1$ is even for any prime $p>2$.

But that was as far as I could go, there was nothing else I could do about it. The hint actually pertains to finding 2 numbers, one with the order $(p-1)$ while the other with the order of $p^{n-1}$. We need this segregation since as the hint states, the orders must have gcd of 1.

The key now is to find a number inside $(\mathbb{Z}/p^n\mathbb{Z})^*$ that has an order $(p-1)$. This is {\it very} tricky. The way I proceeded was suppose we have a number $x$ that has an order $a$ modulo $m$ and another order $b$  modulo $n$, what can we say about the order of $x$ modulo $(mn)$? Well, say that $y$ is the order of $x$ modulo $mn$
%
\nbea
x^y & \equiv & 1 \pmod{mn} = 1 + mn\cdot k \\
&= & 1 + m(nk) \\
&= & 1 + n(mk) \\
x^y & \equiv & 1 \pmod{m} \\
x^y & \equiv & 1 \pmod{n}
\neea
% 
Therefore, from Proposition 2.27.(b).1, $a|y$ and $b|y$, denote the $z = {\rm lcm}(a,b)$, then $y = z c$. Now we apply this to our problem at hand. Here we are interested in $p^2$, therefore $m=p$ and $n=p$ while $a=b=p-1$, \ie $x$ is a primitive root modulo $p$.

In this case ${\rm lcm}(p-1,p-1) = p-1$, therefore $y = (p-1)c$ and
%
\nbea
x^{(p-1)c} \equiv 1 \pmod{p^2} \\
(x^c)^{p-1} \equiv 1 \pmod{p^2}
\neea
%
Therefore $x^c$ has the order $p-1$ modulo $p^2$. This can of course be easily generalized to $p^n$.

So we have found the number with order $p-1$ modulo $p^n$, we now need to find a number with order $p^{n-1}$ modulo $p^n$. The proof of this is similar to the solution to problem 2.27.

In our earlier solution we started with a number whose remainder is always 1, that was our base case. The only thing is that we started with modulo $2^2$ instead of modulo $2^1$. Here we want to start with modulo $p^1$ and then proceed with the same inductive process.

Instead of 5 the number we choose is $x = 1+p$ which is the most obvious choice. Again, for future use, I use a more generalized notation just like in Problem 2.27 and like Problem 2.27 we start listing the powers of $x^q$
%
\nbea
\begin{array} {l c l c l c l}
(x^{q})^1 & = & 1 + P & = & 1 + P(1) & = & 1 + p^n \cdot [P] \\
(x^{q})^2 & = & 1 + 2P + P^2 & = & 1 + P(2 + P) & = & 1 + p^n \cdot \bcancel{P} \\
(x^{q})^3 & = & 1 + 3P + 3P^2 + P^3 & = & 1 + P(3 + P + P^2) & = & 1 + p^n \cdot \bcancel{P} \\
& \vdots & & & & & \\
(x^{q})^p & = & 1 + pP + p_1P^2 + \dots + P^p & = & 1 + P(p + p_1P + \dots + P^p) & = & 1 + p^n \cdot [P] \\
& \vdots & & & & & \\
(x^{q})^{pm} & = & 1 + pmP + m_1P^2 + \dots + P^{pm} & = & 1 + P(pm + m_1P + \dots + P^{pm}) & = &  1 + p^n \cdot [P]
\end{array}
\neea
%
Some explanation is in order here. First, the symbol $[P]$ means divisible by $p$ while $\bcancel{P}$ means indivisible by $p$.

So it is very much like problem 2.27, the sum of the terms in bracket is either divisible by $p$ or not divisible by $p$. Since $p=2$ in problem 2.27, we characterized them even and odd. Here we can see that it oscillates when we hit an exponent that is divisible by $p$, but since $p$ was just 2 in problem 2.27, it oscillated every other step.

Since $P = p^n k$ the quotient is divisible by $p$ only if the coefficient of $P^0$ is divisible by $p$, this is true assuming $\gcd(k,p) = 1$. The base case here is $n=1, ~p^n=p$, such that $P = p \cdot 1$, $k=1 \to \gcd(k,p) = 1$ and therefore the quotient is not divisible by $p$. Thus we have shown that the base case meets all the criteria with the order of $1+p$ modulo $p$ being $p^{n-1} = p^0 = 1$.

We now proceed to the inductive step very similar to problem 2.27 by just replacing 2 with $p$. The inductive assumption is that the quotient oscillates between non-divisible and divisible by $p$ and the first quotient is non-divisible by $p$. From the above discussion, all the quotients that are non divisible by $p$ have $x^{q_n w}$ with $p \nmid w$
%
\nbea
x^{q_n w} & = & 1 + p^n g, ~~~p\nmid g \to g = pq + r, ~ 0 < r < p \\
& = & 1 + p^n(pq + r) \\
& = & (1 + r) + p^{n+1}q \\
x^{q_n w} & \equiv & (1 + r) \pmod{p^{n+1}} \not\equiv 1 \pmod{p^{n+1}}
\neea
%
While for the quotients that are divisible by $p$
%
\nbea
\begin{array} {l c l c l c l}
(x^{q_n})^p & = & (x^{pq_n})^1 & = & 1 + pP_n + \dots +  P_n^p & = & 1 + pP_n(1 + \dots\ + P^p_n/p) \\
(x^{q_n})^{2p} & = & (x^{pq_n})^2 & = & 1 + 2pP_n + \dots + P_n^{2p} & = & 1 + pP_n(2 + \dots + P_n^{2p}/p) \\
& \vdots & & & & & \\
(x^{q_n})^{pp} & = & (x^{pq_n})^{p} & = & 1 + ppP_n + \dots + P_n^{pp} & = & 1 + pP_n(p + \dots + P_n^{pp}/p) \\
& \vdots & & & & & \\
(x^{q_n})^{ppm} & = & (x^{pq_n})^{pm} & = & 1 + ppmP_n + \dots + P_n^{ppm} & = & 1 + pP_n(mp + \dots + P_n^{ppm}/p)
\end{array}
\neea
%
We see that just like before we have the oscillation of the quotient $\floor{x^{(pq_n)pm}/p^{n+1}}$ every time the exponent of $(x^{pq_n})$ hits a multiple of $p$. Now we need to show that the order of $x$ modulo $p^{n+1}$ is $pq_n$. The argument needed is similar to the one in Problem 2.27 but a bit more complicated. We know that $q_n = p^{n-1}$ and $\varphi(p^{n+1}) = p^{n}(p-1)$.

We have shown that $(x^{q_n})^1  = x^{p^{n-1}} \not\equiv 1 \pmod{p^{n+1}}$ and by Proposition 2.27.(b).1 this means that $x^{p^m} \not\equiv 1 \pmod{p^{n+1}}$ for all $0 < m < n-1$.

But now we need to take care of the cases for $x^{p^m h}$ where $h | (p-1)$, $0 < m < n-1$. Thanks to Proposition 2.27.(b).1 this ain't so. Because $\gcd(p-1,p)=1$. You see, if $x^{p^m h} \equiv 1 \pmod{p^{n+1}}$ then by our beloved proposition $p^{m}h|p^{n+1} \to h | p^v$ but $\gcd(h,p)=\gcd(p-1,p)=1$ means it ain't so.

We can show it more explicitly
%
\nbea
x^{p^{n-1}(p-1)} & = & x^{p^{n}-p^{n-1}} = x^{p^{n}} x^{-p^{n-1}} \\
& = & (1 \pmod{p^{n+1}}) ((1+t)^{-1} \pmod{p^{n+1}}), ~~~ 0 < t < p \\
x^{p^{n-1}(p-1)} & \equiv & (1+t)^{-1} \pmod{p^{n+1}} \not\equiv 1 \pmod{p^{n+1}}
\neea
%
where $(1+t)^{-1}$ is the ``inverse'' of $1+t$ such that $ (1+t)^{-1}(1+t) = 1$ and it is obvious that $(1+t)^{-1} \not\equiv 1 \pmod{p^{n+1}}$. The existence of an inverse is guaranteed since $(\mathbb{Z}/p^{n}\mathbb{Z})^*$ is a group.

With this result it is true that $x^{p^m h} \not\equiv 1 \pmod{p^{n+1}}$, $0 < m < n-1, ~h|(p-1)$ we have therefore shown that the order of $x$ modulo $p^{n+1}$ is $pq_n = p^n$.

We have shown that for our base case of $x=1+p$ and $(\mathbb{Z}/p^{1}\mathbb{Z})^*$, $q_1=p^0=1$ and the quotients oscillates as shown above with the first one being non-divisible by $p$, going through the inductive motion we have therefore shown that $1+p$ has the order $p^{n-1}$ modulo $p^n$.

The primitive root is therefore given by $(1+p)d^c$ where $d$ is a primitive root of $(\mathbb{Z}/p^{1}\mathbb{Z})^*$ and $c$ is $y/(p-1)$ where $y$ is the order of $d$ modulo $p^n$.

A primitive root of $125 = 5^3$ is therefore given by $(1+5)d^c$. First we need to find a primitive root of $(\mathbb{Z}/5\mathbb{Z})^*$ and one of those roots is $d=3$ (the other is $d=2$). We now need to find the order of 3 modulo $5^3$ and it is (believe it or not) $y=100$. Therefore $c = y/(p-1) = 100/4 = 25$.

A primitive root is then $6 \cdot 3^25 \equiv 33 \pmod{125}$. Had we chosen $d=2$ we would get $y = 100$, $c = 25$ with a primitive root of $92 \pmod{125}$. But wait a minute, since the order of 2 and 3 are $100 = 5^2(5-1)$, they themselves are primitive roots, so we have found 4 of them in this exercise :)

Some comments, we could have chosen $x=1-p$ instead of $1+p$ and everything would just work out the same but in this case we will find another primitive root.

Why can't we use the above strategy for problem 2.27? the problem lies in the base case
%
\nbea
\begin{array} {l c l c l c l}
(3)^2 & = & (3^{2})^1 & = & 1 + 2A + A^2 & = & 1 + 2A(1 + A/2)
\end{array}
\neea
%
$3 = 1 + A$, $A = 2$ and $1 + A/2 = 2$ an even number where it's supposed to be odd. It is indeed a heavy burden to be the first among infinitely many primes :) 

We can still show that 3 is a generator but we need to tweak the proof a bit, we just need to start with $2^3$ as the base case instead because $3^2 = 1 + 2^3$ since $3^2 = 1 + 2^2 2$ has an even quotient, something we don't want. However, by the above argument $1 - 2^2$ also works but this is just $-3$ and since the other generator is $-1$, $3$ is also a generator.

{\bf Generalized moral of the story}. The main points of the proof of Problem 2.28 is to setup a very obvious base case, find a number that has an order $1 = p^{n-1}$, therefore $n=1$, and has a quotient that is not divisible by $p$ such that when we go from modulo $p^n$ to $p^{n+1}$ the order of $x$ is guaranteed to change, the most obvious choice is then $x = 1 + p \equiv 1 \pmod{p}$. But that is not the only choice, a more general choice would be
%
\nbea
x & = & 1 \pm |a| p \equiv 1 \pmod{p}
\neea
%
where $\gcd(a,p) = 1$. This way the order of $x$ is $p^{n-1} = p^0 = 1$ and its quotient is not divisible by $p$. Another obvious result is that the quotient oscillates
%
\nbea
x^m & = & (1 \pm |a|p)^m = 1 \pm m|a|p + m_1 p^2 + \dots \pm |a|^m p^m \\
& = & 1 \pm |a|p \cdot p(m/p + m_1 p + \dots \pm |a|^mp^{m-1})
\neea
%
as just like discussed previously whether the quotient of $x^m$ is divisible by $p$ or not depends on whether $m$ is divisible by $p$ or not (since $\gcd(a,p) = 1$).

However, this strategy is problematic when $p=2$. The case for $p=2$  turns out to be a lot more interesting as we shall soon see. Well for one thing $\mathbb{Z}/2^n\mathbb{Z},~n \ge 3$ has no primitive roots. Thus we are not looking for something that has an order of $2^{n-1}$. Another is the case of $x = 3 = 1 + 2$ as explained above. Luckily, $x=3$ works for modulo $2^3$
%
\nbea
\ba{r c l c l}
x & = & 1 + 2 & \equiv 3 \pmod{8} \\
x^2 & = & 1 + 8 & \equiv 1 \pmod{8}
\ea
\neea
%
However, it is harder to generalize $x = 1 + 2 \to x = 1 \pm |a|2$
%
\nbea
\ba{r c l c r}
x & = & 1 \pm 2|a| & \not\equiv & 1 \pmod{8} \\
x^2 & = & 1 \pm 4|a| + 4a^2 & \equiv & 1 \pmod{8}
\ea
\neea
%
Or in other words we must satisfy the following
%
\nbea
\ba{r c l c r c l}
\pm 2a & \neq & 8u & ~~~~~~~~~~~~~~~~~ & 4a(\pm1 + a) & = & 8 k \\
a & \neq & \mp 4u & & a(\pm1 + a) & = & 2 k
\ea
\neea
%
This means that $a$ must be odd. Assume $a = 2v + 1$ the condition that $x = 1 \pm 2(2v+1)$ translates to
%
\nbea
x =  \left \{ \ba{l c l}
1 + 2(2v+1) & \to & 2(2v+1) \neq 8u \\
1 - 2(2v+1) & \to & -4v \neq 8u
\ea
\right.
\neea
%
So if we choose the plus sign we can choose any odd number for $a$ while if we choose the negative sign we must choose $a = 2v+1$ with an odd $v$ and that will guarantee that $-4v \not\equiv 1 \pmod{8}$.

With this choice
%
\nbea
x^2 =  \left \{ \ba{l c l}
(1 + 2(2v+1))^2 & = & 1 + 8(2v^2 + 3v + 1) \\
(1 - 2(2v+1))^2 & = & 1 + 8(v + 2v^2)
\ea
\right.
\neea
%
We need $2v^2 + 3v + 1$ to be odd, therefore $v$ must be even, while an odd $v$ guarantees that $v + 2v^2$ is odd. Therefore,the generalization of $x = 1 + 2$ is
%
\nbea
x =  \left \{ \ba{l c l}
1 + 2(4u+1) & = & 8u + 3 \\
1 - 2(4u+3) & = & -8u - 5
\ea
\right.
\neea
%
Barring the difficulties we have with $x=3$, the order we want is $2^{n-2}$ instead of $2^{n-1}$. The easiest choice is to find a number that has the order $1 = 2^{n-2} \to n = 2$, therefore $x = 1 + 2^2 \equiv 1 \pmod{2^2}$. Just like before the generalization is then obvious
%
\nbea
x & = & 1 \pm |2u+1|2^2 \equiv 1 \pmod{2^2}
\neea
%
$2u+1$ guarantees $\gcd(2u+1,2) = 1$. Now we can see how we can get other generators, if we choose $x = 1 + 2(4u+1)$ we get $11, 19, 27, 35, 43, 51, 59, \dots$. And if we choose $x = 1 + |a|2^2$ we get $13, 21, 29, 37, 45, 53, 61, \dots$. 

The only thing left to show is that with this choice $+(x^a) \not\equiv -(x^b) \pmod{2^n}$. The proof is not as straightforward as the one for $x=5$. To start, assume that $+(x^a) \equiv -(x^b) \pmod{2^n}$
%
\nbea
x^a & \equiv & -(x^b) \pmod{2^n}  = -(x^b) + 2^n G\\
x^a + x^b & = & 2^n G \\
x^a(x^{b-a} + 1) & = & 2^n G \\
\to x^{b-a} & \equiv & -1 \pmod{2^n}
\neea
%
We will limit $0 \le a,b \le q$ where $q = 2^{n-2}$ is the order of $x$ modulo $2^n$ as shown above. This restriction is sufficient since the pattern will repeat for $a,b > q$.

We also know that $-(x^q) \equiv -1 \pmod{2^n}$ therefore
%
\nbea
x^q = x^{b-a} x ^{q - (b-a)} & \equiv & 1 \pmod{2^n} \\
-(x^q)x ^{q - (b-a)} & \equiv & 1 \pmod{2^n}, ~~~ {~\rm Let~} c = q - (b-a) \\
-(x^q x^c) & \equiv & 1 \pmod{2^n} \\
x^q (-(x^c)) & \equiv & 1 \pmod{2^n} \\
\to x^c & \equiv & -1 \pmod{2^n}
\neea
%
Going to the last line we used the fact that $x^q \equiv 1 \pmod{2^n}$. So we have $x^c \equiv x^{b-a} \equiv -1 \pmod{2^n}$. However, $c = q - (b-a)$, therefore, it must be true that $x^{|(q - (b-a)) - (b-a)|} \equiv 1 \pmod{2^n}$.

If $q - (b - a) \neq (b-a)$ this will result in $x$ having an order (modulo $2^n$) smaller than $q$, which is a contradiction. The only way out is to have $q - (b-a) = (b-a)$ which translates to $(b-a) = q/2 = 2^{n-3}$. However, this also leads to another contradiction.

Note that $x^{2^{n-3}} \equiv 1 \pmod{2^{n-1}}$, which is the basis of our inductive reasoning and it also has an odd quotient
%
\nbea
x^{2^{n-3}} & = & 1 + 2^{n-1}(2m+1) \\
& \equiv & (1 + 2^{n-1}) \pmod{2^n}
\neea
%
It is therefore impossible to have $(1 + 2^{n-1}) \equiv -1 \pmod{2^n}$ because otherwise
%
\nbea
1 + 2^{n-1} & = & 2^n g - 1 \\
2(1 + 2^{n-2}) & = & 2^n g \\
\to 2 & | & (1 + 2^{n-2})
\neea
%
which is a contradiction (note that $n \ge 3$). The only case we need to tackle is the base case $n=3$ since obviously there is no such thing as modulo $2^{n-1}$ for the base case. But our base case is simple, the order of $x$ modulo $2^3$ is just $q = 2$, therefore $(b-a) = q/2 = 1$ and by construction we know that $x^1 \not\equiv -1 \pmod{2^3}$.

Therefore, there is no $a,b$ such that $+(x^a) \equiv -(x^b) \pmod{2^n}$ which means that the following are the generators of $(\mathbb{Z}/2^n\mathbb{Z}),~n \ge 3$
%
\nbea
-1 ~~~~~~~~~~{\rm and}~~~~~~~~~~
x =  \left \{ \ba{l}
1 + 2(4u+1)  \\
1 - 2(4u+3) \\
1 \pm |2u+1|2^2
\ea
\right.
\neea
%
with $u \ge 0$. Some might ask as to why we want to generalize $1 + p \to 1 \pm |a|p$. Apart from its pedagogical value, it might also helps us find other primitive roots modulo $p^n$. In conclusion, the trick is to find a base case with oscillating quotient and an ``odd'' first quotient. Also, although the method above is not elegant (it's rather crude even) yet it is also very effective, especially when finding other generators modulo $2^n$.

{\bf Problem 2.29}. (*) In terms of the prime factorization of $n$, characterize the integers $n$ such that there is a primitive root modulo $n$.

For consistency and to avoid confusion I will rename $n \to w$ since we have used $n$ in Problem 2.28 as the power of $p$, thus the number we are interested here is $w$.

First suppose we pick a number $x$ and two other numbers $m,n$ with $\gcd(m,n) = 1$, the orders of $x$ are given by
%
\nbea
x^a & \equiv & 1 \pmod{m} \\
x^b & \equiv & 1 \pmod{n}
\neea
%
Denote ${\rm lcm}(a,b) = d$, it is then true that
%
\nbea
x^d &\equiv & 1 \pmod{m} \\
& = & 1 + mu\\
x^d & \equiv & 1 \pmod{n} \\
& = & 1 + nv
\neea
%
Furthermore
%
\nbea
x^d & = & x^d \\
1 + mu & = & 1 +nv \\
mu & = & nv
\neea
%
Since $\gcd(m,n)=1$ this means that $n|u$ and $m|v \to mu=nv = mns$, thus
%
\nbea
x^d & = & 1 + mn s \\
& \equiv & 1 \pmod{mn}
\neea
%
We know that the order of $x$ modulo $mn$ must be divisible by $a$ and $b$ and $d = {\rm lcm}(a,b)$ is the smallest number that is divisible by $a$ and $b$, therefore $x^d \equiv 1 \pmod{mn}$ means that the order of $x$ modulo $mn$ is indeed $d = {\rm lcm}(a,b)$.

We now use this result to characterize the primitive roots of $w$ based on its prime factorization. Thanks to Euclid, every number $w$ can be factorized into
%
\nbea
w & = & p_1^{n_1}p_2^{n_2}p_3^{n_3} \dots p_z^{n_z} \\
& = & \prod_{i=1}^{z} p_i^{n_i} \\
\to \varphi(n) & = & \prod_{i=1}^{z} p_i^{n_i-1}(p_i - 1)
\neea
%
We now list every number $1 < x < w$ for each distinct $\pmod{p_i^{n_i}}$, where $a_i$ is the order of each $x$ modulo $p_i^{n_i}$ where each $a_i$ is limited by Euler's theorem to be $a_i|(p_i^{n_i-1}(p_i-1))$, see Table.~\ref{Tab:2}
%
\begin{table}[]
\centering
\caption{}
\label{Tab:2}
\begin{tabular}{|c|c|c|c c c|}
\hline
$w=\prod_{1}^{z}$ & $p_1^{n_1}$ & $p_2^{n_2}$ & $p_3^{n_3}$ & $\dots$ & $p_z^{n_z}$ \\
$\varphi(p_i^{n_i}) = $ & $p_1^{n_1-1}(p_1-1)$ & $p_2^{n_2-1}(p_2-1)$ & $p_3^{n_3-1}(p_3-1)$ & $\dots$ & $p_z^{n_z-1}(p_z-1)$ \\ \hline 
 & $x^{a_1} \equiv 1 \pmod{p_1^{n_1}}$ & $x^{a_2} \equiv 1 \pmod{p_2^{n_2}}$ & $x^{a_3} \equiv 1 \pmod{p_3^{n_3}}$ & $\dots$ & $x^{a_z} \equiv 1 \pmod{p_z^{n_z}}$ \\
 & $a_1|(p_1^{n_1-1}(p_1-1))$ & $a_2|(p_2^{n_2-1}(p_2-1))$ & $a_3|(p_3^{n_3-1}(p_3-1))$ & $\dots$ & $a_z|(p_z^{n_z-1}(p_z-1))$ \\ \hline
\end{tabular}
\end{table}
%
As shown above, the order of $x$ modulo $w$ is given by
%
\nbea
x^{{\rm lcm}(a_1, a_2, \dots, a_z)} & \equiv & 1 \pmod{p_1^{n_1}p_2^{n_2} \dots p_z^{n_z}}
\neea
%
since $\gcd(p_i^{n_i},p_j^{n_j}) = 1$ for any $i, j$. For $x$ to be a primitive root of $n$ we need
%
\nbea
{\rm lcm}(a_1, a_2, \dots, a_z) & = & p_1^{n_1-1}(p_1 - 1)p_2^{n_2-1}(p_2 - 1) \dots p_z^{n_z-1}(p_z - 1)
\neea
%
Now since each $a_i|(p_i^{n_i-1}(p_i-1))$, for the above requirement to hold it has to be that each $a_i = (p_i^{n_i-1}(p_i-1))$. However, $2|(p_i-1)$ for every $p_i \neq 2$, therefore
%
\nbea
{\rm lcm}(a_1, a_2, \dots, a_z) & \le & p_1^{n_1-1}(p_1 - 1)p_2^{n_2-1}(p_2 - 1) \dots p_z^{n_z-1}(p_z - 1)
\neea
%
All is not lost, hope, though frail, is hard to kill :) Say one of the $p$'s is 2, $\varphi(2)=1$, thus if $p \neq 2$ then $w = 2 p^z, ~\varphi(w=2 p^z) = 1 \cdot \varphi(p^z)$ and therefore $w$ have primitive roots (here $z$ can be zero of course). Another obvious solution is $w=p^z$ which we proved in Problem 2.28. And from Problem 2.27 $w=4$ will have primitive roots as well and those are the only 3 cases where $w$ will have primitive roots :)

My initial approach in solving this problem was actually to construct much like what we did with Problem 2.28, this turned out to be unprofitable. The difference here is that we have extra primes involved but we can easily use the construction method in Problem 2.28 to find a number with order $p_i^{n_i-1}$.

To illustrate this better let's just assume that $w$ only contains two distinct primes $w = p_1^{n_1} p_2^{n_2}$. We will still use induction but this time we vary $n_i$ one at a time, first we vary $n_1$ while keeping $n_2$ fixed, prove it by induction and then we vary $n_2$ while keeping $n_1$ fixed and prove the induction for $n_2$.

First, the number we want is $x=1 + p_2^{n_2} p_1 = 1 + P$ and here $P=p_2^{n_2}p_1 k$, $k=1$, just like last time
%
\nbea
\begin{array} {l c l c l c l}
(x^{q})^1 & = & 1 + P & = & 1 + P(1) & = & 1 + p_2^{n_2}p_1^n \cdot [P] \\
(x^{q})^2 & = & 1 + 2P + P^2 & = & 1 + P(2 + P) & = & 1 + p_2^{n_2}p_1^n \cdot \bcancel{P} \\
(x^{q})^3 & = & 1 + 3P + 3P^2 + P^3 & = & 1 + P(3 + P + P^2) & = & 1 + p_2^{n_2}p_1^n \cdot \bcancel{P} \\
& \vdots & & & & & \\
(x^{q})^{p_1} & = & 1 + p_1P + p'P^2 + \dots + P^{p_1} & = & 1 + P(p_1 + p'P + \dots + P^{p_1}) & = & 1 + p_2^{n_2}p_1^n \cdot [P] \\
& \vdots & & & & & \\
(x^{q})^{p_1m} & = & 1 + p_1mP + m_1P^2 + \dots + P^{p_1 m} & = & 1 + P(p_1m + m_1P + \dots + P^{p_1m}) & = &  1 + p_2^{n_2}p_1^n \cdot [P]
\end{array}
\neea
%
And we see the same pattern. The argument holds because $\gcd(p_1,p_2)=1$, therefore whether the sum of the terms in bracket is divisible by $p_1$ or not depends entirely on the coefficient of $P^0$ and the quotient $\floor{(x^{q})^{p_1m}/p_2^{n_2}p_1^n}$ is either divisible by $p_1$ or not depending on whether the bracket is divisible by $p_1$ or not.

It is now obvious that $1 + p_2^{n_2} p_1$ has an order of $p_1^{n_1-1}$ modulo $p_1^{n_1} p_2^{n_2}$ and of course conversely $1 + p_1^{n_1} p_2$ has the order of $p_2^{n_2-1}$ modulo $p_1^{n_1} p_2^{n_2}$. So in general
%
\nbea
x = 1 + p_i \prod_{j\neq i}p_j^{n_j} {\rm~has~the~order~of~} p_i^{n_i-1} {\rm ~modulo~} \prod_l p_l^{n_l}
\neea
%
However, this strategy is not beneficial in solving Problem 2.29 since it is hard to deal with numbers that have an order of $(p_i - 1)$. The difficulty is due to the fact that $2|(p_i - 1)$ so even if I found disparate numbers with order $(p_i - 1)$ I cannot just multiply all of them to get a primitive root since $\gcd(p_i - 1, p_j - 1) \ge 2$. And this prompted me to find another strategy which resulted in the above solution.

{\bf Problem 2.30} Compute the last two digits of $3^{45}$.

First, we need to find the (multiplicative) order of 3 modulo 100 which is 20, thus
%
\nbea
3^{45} \equiv 3^{5} \pmod{100} \equiv 43 \pmod{100}
\neea
%
Thus the last two digits of $3^{45}$ is `43'.

{\bf Problem 2.31}. Find the integer $a$ such that $0 \le a < 113$ and
%
\nbea
102^{70} + 1 \equiv a^{37} \pmod {113}.
\neea
%
The order of 102 modulo 113 is 56 so
%
\nbea
102^{70} & \equiv & 102^{14} \pmod {113}\\
& \equiv & 98 \pmod{113}
\neea
%
and therefore
%
\nbea
102^{70} + 1  & \equiv & 98 + 1 \equiv a^{37} \pmod {113} \\
a^{37} & \equiv & 99 \pmod{113}
\neea
%

The order of 99 modulo 113 is 28 so $a^{37 \cdot 28} \equiv 1 \pmod{113}$. Note that 113 is prime so $\varphi(113) = 112$ and an order of a number must be a divisor of 112. However $\gcd(37,112) = 1$ then it must be that
%
\nbea
a^{37 \cdot 28} \equiv 1 \pmod{113} \\
\to (a^{28})^{37} \equiv 1 \pmod{113} \\
a^{28} \equiv 1 \pmod{113}
\neea
%
Thus we just need to find a number whose order modulo 113 is 28 and that number is $a=60$.

{\bf Problem 2.32}. Find the proportion of primes $p < 1000$ such that 2 is a primitive root modulo $p$.

Using a small C code I found 67 primes out of 169 (39.64\%) that have 2 as a primitive root, they are 3, 5, 11, 13, 19, 29, 37, 53, 59, 61, 67, 83, 101, 107, 131, 139, 149, 163, 173, 179, 181, 197, 211, 227, 269, 293, 317, 347, 349, 373, 379, 389, 419, 421, 443, 461, 467, 491, 509, 523, 541, 547, 557, 563, 587, 613, 619, 653, 659, 661, 677, 701, 709, 757, 773, 787, 797, 821, 827, 829, 853, 859, 877, 883, 907, 941, 947.

Increasing the limit to $p < 10,000$ gets us 470 out of 1229 (38.24 \%) and for $p < 100,000$, it is 3603 out of 9592 (37.56\%) and lastly for $p < 1,000,000$ it is 29341 out of 78498 (37.38\%). So it is slowly decreasing.


{\bf Problem 2.33}. Find a prime $p$ such that the smallest primitive root modulo $p$ is $37$.

I don't know any clever way to do this. The problem is that even if I know that 37 is a primitive root I don't know any good way of telling if it is the {\it smallest} primitive root. So I wrote a small C code to find primes who have 37 as its smallest primitive root, they are
%
\nbea
\ba{c c c c c c c}
36721 & 51361 & 63361 & 97441 & 129529 & 132169 & 171889 \\
190537 & 201769 & 314161 & 333791 & 343081 & 387721 & 422231 \\
493919 & 496609 & 515761 & 529489 & 532009 & 532561 & 557041 \\
596569 & 600601 & 618719 & 619921 & 628319 & 629281 & 631991 \\
662281 & 663127 & 687289 & 704719 & 711959 & 720359 & 739201 \\
751969 & 774601 & 783721 & 828601 & 840839 & 859031 & 890111 \\
907369 & 1006799 & 1092961 & 1102201 & 1183199 & 1195489 & 1210609 \\
1233241 & 1257721 & 1266841 & 1295809 & 1353791 & 1405681 & 1427281 \\
1433041 & 1445161 & 1450849 & 1453321 & 1463641 & 1497271 & 1500071 \\
1522249 & 1560409 & 1567729 & 1570631 & 1602169 & 1622041 & 1622209
\ea
\neea
%
and many more :) but since the above list was generated in order 36721 is the smallest prime to have 37 as its smallest primitive root.










\end{document}



